function init(){new Swiper(".slider_container.swiper-container",{spaceBetween:30,loop:!0,autoplay:{delay:3500,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".prod-slider-container.swiper-container",{spaceBetween:16,slidesPerView:5,slidesPerGroup:1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{0:{spaceBetween:4,slidesPerView:1},300:{spaceBetween:4,slidesPerView:2.08},375:{spaceBetween:4,slidesPerView:2.08},480:{slidesPerView:2.6,spaceBetween:4},600:{slidesPerView:2.8,spaceBetween:4},768:{slidesPerView:4,spaceBetween:10},1024:{slidesPerView:5},1366:{slidesPerView:5}}});let e=new Swiper(".gallery-mob-container.swiper-container",{spaceBetween:30,loop:!0,centeredSlides:!0,autoplay:{delay:3500,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".goods-pagination",clickable:!0}});function t(){let e=document.querySelectorAll(".accordion-btn");for(let t=0;t<e.length;t++)e[t].addEventListener("click",function(){this.classList.toggle("active");let i=e[t].parentElement.previousElementSibling;i.style.maxHeight&&i.classList.contains("accordion")?i.style.maxHeight=null:i.style.maxHeight=i.scrollHeight+"px"})}function i(e,t){$(window).width()<=900?$(e).addClass(t):$(e).removeClass(t)}function n(e,t){$(window).width()>=767?$(e).addClass(t):$(e).removeClass(t)}function s(e){$(e).addClass("active"),$("body").addClass("modal")}function a(e){$(e).removeClass("active"),$("body").removeClass("modal")}function o(e){$(e).validate({rules:{psword:{required:!0,minlength:6},email_n:"required EMAIL"},messages:{psword:{minlength:"Минимальная длина пароля 6 символов"}}})}function l(e){$(e).addClass("in-hover")}function c(e){$(e).removeClass("in-hover")}function r(e){let t=document.querySelectorAll(e);for(let e=0;e<t.length;e++){let i=+t[e].innerHTML,n=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(i);t[e].innerHTML=n}}function d(e){let t=0;$(e).change(function(){$(this).prop("checked")?t++:t--,m(this,t),$(this).parentsUntil(".content-filter").next(".btn-wrapper").children(".state-select").children(".numb-select").children("span").html(t)})}function m(e,t){t>0?($(e).parentsUntil(".content-filter").next(".btn-wrapper").children(".filter-btn").removeClass("no-active"),$(e).parent(".filter-items").parentsUntil(".filter-items").prev().addClass("select")):($(e).parentsUntil(".content-filter").next(".btn-wrapper").children(".filter-btn").addClass("no-active"),$(e).parent(".filter-items").parentsUntil(".filter-items").prev().removeClass("select"))}function p(e,t){$(e).click(function(i){i.preventDefault(),$(t).prop("checked",!1),$(e).next(".numb-select").children("span").html(0),v=0,m(t)})}function u(e,t){let i=e,n=document.querySelectorAll(t);for(let e=0;e<n.length;e++)n[e].innerHTML.length>i&&(n[e].innerHTML=n[e].innerHTML.slice(0,i)+" ...")}jQuery.extend(jQuery.validator.messages,{required:"Поле является обязательным",remote:"Поле является обязательным",email:"Введите корректный электронный адрес"}),$.validator.addMethod("EMAIL",function(e,t){return this.optional(t)||/^[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+\.[a-zA-Z.]{2,5}$/i.test(e)},"Введите корректный электронный адрес"),function(e){e(window).on("load",function(){e(".descktop-filter-container .content-filter .filter-item").mCustomScrollbar({theme:"my-theme"}),e(".mobile-filter-container .content-filter .mob-check-item").mCustomScrollbar({theme:"my-theme"}),e(".all-lang-item").mCustomScrollbar({theme:"my-theme"})})}(jQuery),$(".features_items .search").click(function(){return $(window).width()>=900?($("header .search-header-line").toggleClass("active"),$(this).parent().toggleClass("active"),$("body").toggleClass("modal"),$("body>div").hasClass("overlay")?$(".overlay").remove():$('<div class="overlay"></div>').prependTo("body")):($(".menu_mobile").addClass("active"),$("body").addClass("modal"),$(".search-wrapper .form > input").focus()),!1}),$(".search-header-line svg.close").click(function(){$("header .search-header-line").removeClass("active"),$(".features_items").removeClass("active"),$("body").removeClass("modal"),$(".overlay").remove()}),$(".burger-menu").click(function(){$(".menu_mobile").addClass("active"),$("body").addClass("modal")}),$(".menu_mobile .mobile-header-container .close").click(function(){$(".menu_mobile").removeClass("active"),$("body").removeClass("modal")}),$(".nav_wrapper .menu .menu_items").click(function(){$(".nav_wrapper .menu .menu_items").removeClass("active"),$(this).addClass("active")}),$(".mobile-menu-wrapper .menu .menu_items").click(function(){$(".mobile-menu-wrapper .menu .menu_items").removeClass("active"),$(this).addClass("active")}),$(".mob_sub_menu_items").click(function(){$(".mob_sub_menu_items").hasClass("active")&&($(".mob_sub_menu_items").removeClass("active"),$(this).addClass("active")),$(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active")}),$(".promo_line svg").click(function(){$(this).parent().css("height","0"),$(this).parent().css("visibility","hidden")}),i(".info-frame .info-content-wrapper>.title","accordion-btn"),i("section.info .info-menu-wrapper","accordion"),n(".gall-wrapp-main","load"),$(window).resize(function(){i(".info-frame .info-content-wrapper>.title","accordion-btn"),i("section.info .container .info-frame .info-menu-wrapper","accordion"),t(),n(".gall-wrapp-main","load")}),t(),function(e){let t=document.querySelectorAll(e);for(let e=0;e<t.length;e++)t[e].addEventListener("click",function(){this.classList.toggle("active");let e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"})}(".acc-open"),$(window).width()<=357?(u(34,".discrption-goods-s > p"),u(33,".discrption-goods > p")):$(window).width()<=480&&$(window).width()>=357?(u(38,".discrption-goods-s > p"),u(33,".discrption-goods > p")):(u(27,".discrption-goods-s > p"),u(33,".discrption-goods > p")),o("#sign-in"),o("#reset-pass"),$(".close-popup").click(function(){a(".popup.active")}),$(".features_items .autorization").click(function(){s("#popup-sign-in")}),$("#popup-sign-in .link_wrapper a").click(function(e){e.preventDefault(),a(".popup.active"),s("#popup-reset-pass")}),$(".lang-wrapper .select-lang").click(function(){$(this).toggleClass("active"),$(this).children().last().toggleClass("active")}),$(".menu_mobile .search-line").change(function(){if($(this).val().length>0)$(this).addClass("enter"),$(".menu_mobile .search").addClass("enter");else{if(!$(".menu_mobile .search").hasClass("enter"))return;$(".menu_mobile .search").removeClass("enter"),$(this).removeClass("enter")}}),$(".sub_menu_items > a").hover(function(){l(this.parentElement)},function(){c(this.parentElement)}),$(".menu_items > a").hover(function(){l(this)},function(){c(this)}),$(".features_items > a").hover(function(){l(this.parentElement)},function(){c(this.parentElement)});let h=$("header").height();$(window).click(function(){$("header").height()<h&&$("main").css("padding",$("header").height()+"px")}),r(".price"),r(".price_new"),r(".price_old"),$(".descktop-filter-container .filter-header").click(function(){if($(this).hasClass("active"))$(".lock-pointer").remove(),$(this).removeClass("active"),$(this).next().removeClass("active");else{if($(".descktop-filter-container .filter-header").removeClass("active"),$(".descktop-filter-container .filter-header").next().removeClass("active"),$(".lock-pointer").remove(),$(this).hasClass("no-active"))return!1;$(this).addClass("active"),$(this).next().addClass("active"),$("<div class='lock-pointer'></div>").appendTo("body")}}),$(document).click(function(e){e.target.classList.contains("popup__wrapper")&&a(".popup.active")}),$(document).click(function(e){e.target.classList.contains("lock-pointer")?($(".filter-header").removeClass("active"),$(".filter-header").next().removeClass("active"),$(".lock-pointer").remove()):e.target.classList.contains("overlay")&&($("header .search-header-line").removeClass("active"),$(".features_items").removeClass("active"),$("body").removeClass("modal"),$(".overlay").remove())}),$(".more-less-filter").click(function(){$(this).toggleClass("active"),$(this).children().toggleClass("active"),$(this).hasClass("active")?$(this).parent().addClass("open"):$(this).parent().removeClass("open")}),function(){var e,t=$(".js-range-slider"),i=$(".js-input-from"),n=$(".js-input-to"),s=0,a=0;function o(e){s=e.from,a=e.to,i.prop("value",s),n.prop("value",a)}t.ionRangeSlider({skin:"round",type:"double",min:0,max:1e5,from:0,to:1e5,onStart:o,onChange:o}),e=t.data("ionRangeSlider"),i.on("input",function(){var t=$(this).prop("value");t<0?t=0:t>a&&(t=a),e.update({from:t})}),n.on("input",function(){var t=$(this).prop("value");t<s?t=s:t>1e5&&(t=1e5),e.update({to:t})})}(),d(".box-check.size"),d(".box-check.color"),d(".box-check.cat_f"),d(".box-check.brand"),d(".box-check.material"),d(".box-check.h"),p(".content-filter.size .reser-select",".box-check.size"),p(".content-filter.color .reser-select",".box-check.color"),p(".content-filter.cat_f .reser-select",".box-check.cat_f"),p(".content-filter.brand .reser-select",".box-check.brand"),p(".content-filter.material .reser-select",".box-check.material"),p(".content-filter.h .reser-select",".box-check.h"),$(".mobile-filter-container .filter-header").click(function(){s($(this).next())}),$(".modal-fiter .title-filter svg").click(function(){a(".modal-fiter")}),$(".mob-filter-header").click(function(){$(this).toggleClass("active"),$(this).parent().toggleClass("active")});let v=0;$(".mob-check-items .box-check").change(function(){$(this).prop("checked")?v++:v--,$(".modal-reset span").html("("+v+")"),v>0?($(".modal-reset").removeClass("no-active"),$(".modal-submit").removeClass("no-active")):($(".modal-reset").addClass("no-active"),$(".modal-submit").addClass("no-active"))}),$(".mob-check-items .box-check:not(.color)").click(function(){$(this).prop("checked")?$(this).parents(".mob-filter-items").children(".mob-filter-header").append("<span data-name="+$(this).next().html()+">("+$(this).next().html()+")</span>"):$(this).parents(".mob-filter-items").children(".mob-filter-header").find("span[data-name="+$(this).next().html()+"]").remove()}),$(".modal-reset").click(function(){$(".mob-check-items .box-check").prop("checked",!1),$(".mob-filter-header").find("span").remove(),v=0,$(".modal-reset span").html("("+v+")"),$(".modal-reset").addClass("no-active"),$(".modal-submit").addClass("no-active")}),$("#btn-watch").length>0&&$(document).scroll(function(){var e,t,i,n;e="#btn-watch",t=$(window).scrollTop(),i=t+$(window).height(),(n=$(e).offset().top)+$(e).height()<=i&&n>=t?$(".preview-header-goods").removeClass("active"):$(".preview-header-goods").addClass("active")});let f=document.querySelector(".gall-wrapp-main"),b=document.querySelector(".gall-close-btn");f&&(document.addEventListener("click",function(e){e.target.classList.contains("gall-wrapp-main")&&(f.classList.remove("open"),document.body.classList.remove("modal"))}),b.addEventListener("click",function(){f.classList.remove("open"),document.body.classList.remove("modal")}),document.querySelector("#slide-1").addEventListener("click",function(t){t.preventDefault(),f.classList.add("open"),document.body.classList.add("modal"),e.slideTo(1,0)}),document.querySelector("#slide-2").addEventListener("click",function(t){t.preventDefault(),f.classList.add("open"),document.body.classList.add("modal"),e.slideTo(2,0)}),document.querySelector("#slide-3").addEventListener("click",function(t){t.preventDefault(),f.classList.add("open"),document.body.classList.add("modal"),e.slideTo(3,0)}),document.querySelector("#slide-4").addEventListener("click",function(t){t.preventDefault(),f.classList.add("open"),document.body.classList.add("modal"),e.slideTo(4,0)}),document.querySelector("#slide-5").addEventListener("click",function(t){t.preventDefault(),f.classList.add("open"),document.body.classList.add("modal"),e.slideTo(5,0)}))}window.addEventListener("DOMContentLoaded",init);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImluaXQiLCJTd2lwZXIiLCJzcGFjZUJldHdlZW4iLCJsb29wIiwiYXV0b3BsYXkiLCJkZWxheSIsImRpc2FibGVPbkludGVyYWN0aW9uIiwicGFnaW5hdGlvbiIsImVsIiwiY2xpY2thYmxlIiwic2xpZGVzUGVyVmlldyIsInNsaWRlc1Blckdyb3VwIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsImJyZWFrcG9pbnRzIiwiMCIsIjMwMCIsIjM3NSIsIjQ4MCIsIjYwMCIsIjc2OCIsIjEwMjQiLCIxMzY2Iiwic3dpcGVyR29vZHMiLCJjZW50ZXJlZFNsaWRlcyIsIm1lbnVBY2NvcmRpb25Nb3ZlciIsImFjYyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImkiLCJsZW5ndGgiLCJhZGRFdmVudExpc3RlbmVyIiwidGhpcyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInBhbmVsIiwicGFyZW50RWxlbWVudCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJzdHlsZSIsIm1heEhlaWdodCIsImNvbnRhaW5zIiwic2Nyb2xsSGVpZ2h0IiwiYWRkUmVtb3ZlQ2xhc3MiLCJlbGVtIiwiYWRkIiwiJCIsIndpbmRvdyIsIndpZHRoIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZFJlbW92ZUNsYXNzXzc2NyIsIm9wZW5Qb3BVcCIsImNsb3NlUG9wVXAiLCJ2YWxpZGF0b3JGb3JtIiwidmFsaWRhdGUiLCJydWxlcyIsInBzd29yZCIsInJlcXVpcmVkIiwibWlubGVuZ3RoIiwiZW1haWxfbiIsIm1lc3NhZ2VzIiwiYWRkSG92ZXIiLCJyZW1vdmVIb3ZlciIsImdvVG9DdXJyZW5jeSIsIm51bWJlclRvRm9ybWF0IiwidG9OdW1iIiwiaW5uZXJIVE1MIiwiZm9ybWF0TnVtIiwiSW50bCIsIk51bWJlckZvcm1hdCIsImN1cnJlbmN5IiwibWluaW11bUZyYWN0aW9uRGlnaXRzIiwiZm9ybWF0IiwiY2hlY2tCb3hFbmdpbmUiLCJjb3VudCIsImNoYW5nZSIsInByb3AiLCJjaGVjaEJ0biIsInBhcmVudHNVbnRpbCIsIm5leHQiLCJjaGlsZHJlbiIsImh0bWwiLCJhIiwicGFyZW50IiwicHJldiIsInJlc2V0U2VsZWN0IiwiYm94IiwiY2xpY2siLCJlIiwicHJldmVudERlZmF1bHQiLCJzbGljZVNlbnRlbmNlIiwicSIsInNlbnRlbmNlIiwic2l6ZSIsIm5ld3NDb250ZW50Iiwic2xpY2UiLCJqUXVlcnkiLCJleHRlbmQiLCJ2YWxpZGF0b3IiLCJyZW1vdGUiLCJlbWFpbCIsImFkZE1ldGhvZCIsInZhbHVlIiwiZWxlbWVudCIsIm9wdGlvbmFsIiwidGVzdCIsIm9uIiwibUN1c3RvbVNjcm9sbGJhciIsInRoZW1lIiwidG9nZ2xlQ2xhc3MiLCJoYXNDbGFzcyIsInJlbW92ZSIsInByZXBlbmRUbyIsImZvY3VzIiwiY3NzIiwicmVzaXplIiwicGljayIsIm5leHRFbGVtZW50U2libGluZyIsImFjY0VuZ2luZSIsImxhc3QiLCJ2YWwiLCJob3ZlciIsImhlaWdodEhlYWRlciIsImhlaWdodCIsImFwcGVuZFRvIiwidGFyZ2V0IiwiaW5zdGFuY2UiLCIkcmFuZ2UiLCIkaW5wdXRGcm9tIiwiJGlucHV0VG8iLCJmcm9tIiwidG8iLCJ1cGRhdGVJbnB1dHMiLCJkYXRhIiwiaW9uUmFuZ2VTbGlkZXIiLCJza2luIiwidHlwZSIsIm1pbiIsIm1heCIsIm9uU3RhcnQiLCJvbkNoYW5nZSIsInVwZGF0ZSIsImluaXRSYW5nZVNsaWRlciIsInBhcmVudHMiLCJhcHBlbmQiLCJmaW5kIiwic2Nyb2xsIiwiZG9jVmlld1RvcCIsImRvY1ZpZXdCb3R0b20iLCJlbGVtVG9wIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwibW9iR2FsbFNsaWRlciIsInF1ZXJ5U2VsZWN0b3IiLCJjbG9zZUdhbGxlcnkiLCJib2R5Iiwic2xpZGVUbyJdLCJtYXBwaW5ncyI6IkFBQ0EsU0FBU0EsT0FFYyxJQUFJQyxPQUFPLHFDQUFzQyxDQUNsRUMs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RUFBY3hILFVBQVVXLElBQUksUUFDNUJqQixTQUFTaUksS0FBSzNILFVBQVVXLElBQUksU0FDNUJyQixFQUFZc0ksUUFBUSxFQUFHLEtBRXpCbEksU0FBUytILGNBQWMsWUFBWTNILGlCQUFpQixRQUFTLFNBQVV5RCxHQUNyRUEsRUFBRUMsaUJBQ0ZnRSxFQUFjeEgsVUFBVVcsSUFBSSxRQUM1QmpCLFNBQVNpSSxLQUFLM0gsVUFBVVcsSUFBSSxTQUM1QnJCLEVBQVlzSSxRQUFRLEVBQUcsTUE5akI3Qi9HLE9BQU9mLGlCQUFpQixtQkFBb0JoQyIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBpbml0KTtcbmZ1bmN0aW9uIGluaXQoKSB7XG4gICAgLypTbGlkZXIgc3dpcGVyIGhlYWRlciBiYW5uZXIgc3RhcnQqL1xuICAgIGxldCBzd2lwZXJCYW5uZXIgPSBuZXcgU3dpcGVyKCcuc2xpZGVyX2NvbnRhaW5lci5zd2lwZXItY29udGFpbmVyJywge1xuICAgICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICAgIGxvb3A6IHRydWUsXG4gICAgICBhdXRvcGxheToge1xuICAgICAgICBkZWxheTogMzUwMCxcbiAgICAgICAgZGlzYWJsZU9uSW50ZXJhY3Rpb246IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxuICAgICAgICAgIGNsaWNrYWJsZTogdHJ1ZSwgXG4gICAgICB9LFxuICAgIH0pO1xuICAgIC8qU2xpZGVyIHN3aXBlciBoZWFkZXIgYmFubmVyIGVuZCovXG5cbiAgICAvKlNsaWRlciBzd2lwZXIgcHJvZC1zbGlkZXIgc3RhcnQqL1xuICAgIGxldCBzd2lwZXJQcm9kID0gbmV3IFN3aXBlcignLnByb2Qtc2xpZGVyLWNvbnRhaW5lci5zd2lwZXItY29udGFpbmVyJywge1xuICAgICAgc3BhY2VCZXR3ZWVuOiAxNixcbiAgICAgIHNsaWRlc1BlclZpZXc6IDUsXG4gICAgICBzbGlkZXNQZXJHcm91cDogMSxcbiAgICAgIC8vIGdyYWJDdXJzb3I6IHRydWUsXG4gICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgIG5leHRFbDogJy5zd2lwZXItYnV0dG9uLW5leHQnLFxuICAgICAgICBwcmV2RWw6ICcuc3dpcGVyLWJ1dHRvbi1wcmV2JyxcbiAgICAgIH0sXG4gICAgICBicmVha3BvaW50czoge1xuICAgICAgICAwOiB7XG4gICAgICAgICAgIHNwYWNlQmV0d2VlbjogNCxcbiAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgICAgIH0sXG4gICAgICAgIDMwMDoge1xuICAgICAgICAgICBzcGFjZUJldHdlZW46IDQsXG4gICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDIuMDgsXG4gICAgICAgICB9LFxuXHRcdFx0ICAgMzc1OiB7XG4gICAgICAgICAgIHNwYWNlQmV0d2VlbjogNCxcbiAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMi4wOCxcbiAgICAgICAgfSxcbiAgICAgICAgIDQ4MDoge1xuICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLjYsXG4gICAgICAgICAgIHNwYWNlQmV0d2VlbjogNCxcbiAgICAgICAgfSxcbiAgICAgICAgIDYwMDoge1xuICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLjgsXG4gICAgICAgICAgIHNwYWNlQmV0d2VlbjogNCxcbiAgICAgICAgIH0sXG4gICAgICAgICA3Njg6IHtcbiAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNCxcbiAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcbiAgICAgICAgIH0sXG4gICAgICAgIDEwMjQ6IHtcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA1LFxuXHRcdFx0ICAgfSxcblx0XHRcdCAgIDEzNjY6IHtcblx0XHRcdCAgIFx0c2xpZGVzUGVyVmlldzogNSxcblx0XHRcdCAgIH0sXG5cdFx0ICB9LFxuICAgIH0pO1xuICAvKlNsaWRlciBzd2lwZXIgcHJvZC1zbGlkZXIgZW5kKi9cbiAgLypTbGlkZXIgc3dpcGVyIGdvb2RzLWNhcmQgc3RhcnQqL1xuICBsZXQgc3dpcGVyR29vZHMgPSBuZXcgU3dpcGVyKCcuZ2FsbGVyeS1tb2ItY29udGFpbmVyLnN3aXBlci1jb250YWluZXInLCB7XG4gICAgc3BhY2VCZXR3ZWVuOiAzMCxcbiAgICBsb29wOiB0cnVlLFxuICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuICAgIGF1dG9wbGF5OiB7XG4gICAgICBkZWxheTogMzUwMCxcbiAgICAgIGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcbiAgICB9LFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgbmV4dEVsOiAnLnN3aXBlci1idXR0b24tbmV4dCcsXG4gICAgICAgIHByZXZFbDogJy5zd2lwZXItYnV0dG9uLXByZXYnLFxuICAgIH0sXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgZWw6ICcuZ29vZHMtcGFnaW5hdGlvbicsXG4gICAgICAgIGNsaWNrYWJsZTogdHJ1ZSwgXG4gICAgfSxcbiAgfSk7XG4gIC8qU2xpZGVyIHN3aXBlciBnb29kcy1jYXJkIGVuZCovXG4gIGZ1bmN0aW9uIG1lbnVBY2NvcmRpb25Nb3ZlcigpIHtcbiAgICBsZXQgYWNjID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hY2NvcmRpb24tYnRuXCIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWNjLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhY2NbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xuICAgICAgICBsZXQgcGFuZWwgPSBhY2NbaV0ucGFyZW50RWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgaWYgKHBhbmVsLnN0eWxlLm1heEhlaWdodCYmcGFuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NvcmRpb24nKSkge1xuICAgICAgICAgICBwYW5lbC5zdHlsZS5tYXhIZWlnaHQgPSBudWxsO1xuICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgcGFuZWwuc3R5bGUubWF4SGVpZ2h0ID0gcGFuZWwuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgfSBcbiAgICAgICB9KTtcbiAgICB9OyBcbiAgfTtcbiAgZnVuY3Rpb24gYWNjRW5naW5lKHBpY2spIHtcbiAgICBsZXQgYWNjID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChwaWNrKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjYy5sZW5ndGg7IGkrKykge1xuICAgICAgYWNjW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcbiAgICAgICAgbGV0IHBhbmVsID0gdGhpcy5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgICBpZiAocGFuZWwuc3R5bGUubWF4SGVpZ2h0KSB7XG4gICAgICAgICAgIHBhbmVsLnN0eWxlLm1heEhlaWdodCA9IG51bGw7XG4gICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICBwYW5lbC5zdHlsZS5tYXhIZWlnaHQgPSBwYW5lbC5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XG4gICAgICAgICB9IFxuICAgICAgIH0pO1xuICAgIH07IFxuICB9O1xuICBmdW5jdGlvbiBhZGRSZW1vdmVDbGFzcyhlbGVtLCBhZGQpIHtcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPD0gOTAwKSB7XG4gICAgICAkKGVsZW0pLmFkZENsYXNzKGFkZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQoZWxlbSkucmVtb3ZlQ2xhc3MoYWRkKTtcbiAgICB9O1xuICB9O1xuICBmdW5jdGlvbiBhZGRSZW1vdmVDbGFzc183NjcoZWxlbSwgYWRkKSB7XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpID49IDc2Nykge1xuICAgICAgJChlbGVtKS5hZGRDbGFzcyhhZGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKGVsZW0pLnJlbW92ZUNsYXNzKGFkZCk7XG4gICAgfTtcbiAgfTtcbiAgXG4gIGZ1bmN0aW9uIG9wZW5Qb3BVcChlbGVtKSB7XG4gICAgJChlbGVtKS5hZGRDbGFzcygnYWN0aXZlJyk7ICBcbiAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ21vZGFsJyk7XG4gIH07XG4gIGZ1bmN0aW9uIGNsb3NlUG9wVXAoZWxlbSkge1xuICAgICQoZWxlbSkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOyAgXG4gICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdtb2RhbCcpO1xuICB9O1xuICBqUXVlcnkuZXh0ZW5kKGpRdWVyeS52YWxpZGF0b3IubWVzc2FnZXMsIHtcbiAgICByZXF1aXJlZDogXCLQn9C+0LvQtSDRj9Cy0LvRj9C10YLRgdGPINC+0LHRj9C30LDRgtC10LvRjNC90YvQvFwiLFxuICAgIHJlbW90ZTogXCLQn9C+0LvQtSDRj9Cy0LvRj9C10YLRgdGPINC+0LHRj9C30LDRgtC10LvRjNC90YvQvFwiLFxuICAgIGVtYWlsOiBcItCS0LLQtdC00LjRgtC1INC60L7RgNGA0LXQutGC0L3Ri9C5INGN0LvQtdC60YLRgNC+0L3QvdGL0Lkg0LDQtNGA0LXRgVwiLFxuICB9KTtcbiAgJC52YWxpZGF0b3IuYWRkTWV0aG9kKFwiRU1BSUxcIiwgZnVuY3Rpb24odmFsdWUsIGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbmFsKGVsZW1lbnQpIHx8IC9eW2EtekEtWjAtOS5fLV0rQFthLXpBLVowLTktXStcXC5bYS16QS1aLl17Miw1fSQvaS50ZXN0KHZhbHVlKTtcbiAgfSwgXCLQktCy0LXQtNC40YLQtSDQutC+0YDRgNC10LrRgtC90YvQuSDRjdC70LXQutGC0YDQvtC90L3Ri9C5INCw0LTRgNC10YFcIik7XG4gIGZ1bmN0aW9uIHZhbGlkYXRvckZvcm0oZWxlbSkge1xuICAgICQoZWxlbSkudmFsaWRhdGUoe1xuICAgICAgcnVsZXM6IHtcbiAgICAgICAgcHN3b3JkOiB7XG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgbWlubGVuZ3RoOiA2LFxuICAgICAgICB9LFxuICAgICAgICBlbWFpbF9uOlwicmVxdWlyZWQgRU1BSUxcIixcbiAgICAgIH0sXG4gICAgICBtZXNzYWdlczoge1xuICAgICAgICBwc3dvcmQ6IHtcbiAgICAgICAgICBtaW5sZW5ndGg6ICfQnNC40L3QuNC80LDQu9GM0L3QsNGPINC00LvQuNC90LAg0L/QsNGA0L7Qu9GPIDYg0YHQuNC80LLQvtC70L7QsidcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcbiAgZnVuY3Rpb24gYWRkSG92ZXIoZWxlbSkgeyBcbiAgICAkKGVsZW0pLmFkZENsYXNzKCdpbi1ob3ZlcicpOyBcbiAgfTtcbiAgZnVuY3Rpb24gcmVtb3ZlSG92ZXIoZWxlbSkgeyBcbiAgICAkKGVsZW0pLnJlbW92ZUNsYXNzKCdpbi1ob3ZlcicpOyBcbiAgfTtcbiAgZnVuY3Rpb24gZ29Ub0N1cnJlbmN5KGVsZW0pIHtcbiAgICBsZXQgbnVtYmVyVG9Gb3JtYXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW0pO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyVG9Gb3JtYXQubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgbGV0IHRvTnVtYiA9ICtudW1iZXJUb0Zvcm1hdFtpXS5pbm5lckhUTUw7XG4gICAgICAgbGV0IGZvcm1hdE51bSA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCgncnUtUlUnLCB7IHN0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogJ1JVQicsIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMCB9KS5mb3JtYXQodG9OdW1iKTtcbiAgICAgICBudW1iZXJUb0Zvcm1hdFtpXS5pbm5lckhUTUwgPSBmb3JtYXROdW07XG4gICAgfVxuICB9O1xuICBcbiAgZnVuY3Rpb24gY2hlY2tCb3hFbmdpbmUoZWxlbSkge1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgJChlbGVtKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCQodGhpcykucHJvcCgnY2hlY2tlZCcpKSB7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb3VudC0tO1xuICAgICAgfVxuICAgICAgY2hlY2hCdG4odGhpcywgY291bnQpO1xuICAgICAgJCh0aGlzKS5wYXJlbnRzVW50aWwoJy5jb250ZW50LWZpbHRlcicpLm5leHQoJy5idG4td3JhcHBlcicpLmNoaWxkcmVuKCcuc3RhdGUtc2VsZWN0JykuY2hpbGRyZW4oJy5udW1iLXNlbGVjdCcpLmNoaWxkcmVuKCdzcGFuJykuaHRtbChjb3VudCk7XG4gICAgfSk7XG4gIH07XG4gIFxuICBmdW5jdGlvbiBjaGVjaEJ0bihlbGVtLCBhKSB7XG4gICAgaWYgKGEgPiAwKSB7XG4gICAgICAkKGVsZW0pLnBhcmVudHNVbnRpbCgnLmNvbnRlbnQtZmlsdGVyJykubmV4dCgnLmJ0bi13cmFwcGVyJykuY2hpbGRyZW4oJy5maWx0ZXItYnRuJykucmVtb3ZlQ2xhc3MoJ25vLWFjdGl2ZScpO1xuICAgICAgJChlbGVtKS5wYXJlbnQoJy5maWx0ZXItaXRlbXMnKS5wYXJlbnRzVW50aWwoJy5maWx0ZXItaXRlbXMnKS5wcmV2KCkuYWRkQ2xhc3MoJ3NlbGVjdCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKGVsZW0pLnBhcmVudHNVbnRpbCgnLmNvbnRlbnQtZmlsdGVyJykubmV4dCgnLmJ0bi13cmFwcGVyJykuY2hpbGRyZW4oJy5maWx0ZXItYnRuJykuYWRkQ2xhc3MoJ25vLWFjdGl2ZScpO1xuICAgICAgJChlbGVtKS5wYXJlbnQoJy5maWx0ZXItaXRlbXMnKS5wYXJlbnRzVW50aWwoJy5maWx0ZXItaXRlbXMnKS5wcmV2KCkucmVtb3ZlQ2xhc3MoJ3NlbGVjdCcpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiByZXNldFNlbGVjdChlbGVtLCBib3gpIHtcbiAgICAkKGVsZW0pLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkKGJveCkucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICQoZWxlbSkubmV4dCgnLm51bWItc2VsZWN0JykuY2hpbGRyZW4oJ3NwYW4nKS5odG1sKDApO1xuICAgICAgY291bnQgPSAwO1xuICAgICAgY2hlY2hCdG4oYm94KTtcbiAgICB9KTtcbiAgfTtcbiAgZnVuY3Rpb24gaW5pdFJhbmdlU2xpZGVyKCkgeyBcbiAgICB2YXIgJHJhbmdlID0gJChcIi5qcy1yYW5nZS1zbGlkZXJcIiksXG4gICAgJGlucHV0RnJvbSA9ICQoXCIuanMtaW5wdXQtZnJvbVwiKSxcbiAgICAkaW5wdXRUbyA9ICQoXCIuanMtaW5wdXQtdG9cIiksXG4gICAgaW5zdGFuY2UsXG4gICAgbWluID0gMCxcbiAgICBtYXggPSAxMDAwMDAsXG4gICAgZnJvbSA9IDAsXG4gICAgdG8gPSAwO1xuICAgICRyYW5nZS5pb25SYW5nZVNsaWRlcih7XG4gICAgXHQgIHNraW46IFwicm91bmRcIixcbiAgICAgICAgdHlwZTogXCJkb3VibGVcIixcbiAgICAgICAgbWluOiBtaW4sXG4gICAgICAgIG1heDogbWF4LFxuICAgICAgICBmcm9tOiAwLFxuICAgICAgICB0bzogMTAwMDAwLFxuICAgICAgICBvblN0YXJ0OiB1cGRhdGVJbnB1dHMsXG4gICAgICAgIG9uQ2hhbmdlOiB1cGRhdGVJbnB1dHNcbiAgICB9KTtcbiAgICBpbnN0YW5jZSA9ICRyYW5nZS5kYXRhKFwiaW9uUmFuZ2VTbGlkZXJcIik7XG4gICAgZnVuY3Rpb24gdXBkYXRlSW5wdXRzIChkYXRhKSB7XG4gICAgXHRmcm9tID0gZGF0YS5mcm9tO1xuICAgICAgICB0byA9IGRhdGEudG87XG4gICAgICAgIFxuICAgICAgICAkaW5wdXRGcm9tLnByb3AoXCJ2YWx1ZVwiLCBmcm9tKTtcbiAgICAgICAgJGlucHV0VG8ucHJvcChcInZhbHVlXCIsIHRvKTtcdFxuICAgIH1cbiAgICAkaW5wdXRGcm9tLm9uKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsID0gJCh0aGlzKS5wcm9wKFwidmFsdWVcIik7XG4gICAgICAgIFxuICAgICAgICAvLyB2YWxpZGF0ZVxuICAgICAgICBpZiAodmFsIDwgbWluKSB7XG4gICAgICAgICAgICB2YWwgPSBtaW47XG4gICAgICAgIH0gZWxzZSBpZiAodmFsID4gdG8pIHtcbiAgICAgICAgICAgIHZhbCA9IHRvO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpbnN0YW5jZS51cGRhdGUoe1xuICAgICAgICAgICAgZnJvbTogdmFsXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgICRpbnB1dFRvLm9uKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsID0gJCh0aGlzKS5wcm9wKFwidmFsdWVcIik7XG4gICAgICAgIFxuICAgICAgICAvLyB2YWxpZGF0ZVxuICAgICAgICBpZiAodmFsIDwgZnJvbSkge1xuICAgICAgICAgICAgdmFsID0gZnJvbTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWwgPiBtYXgpIHtcbiAgICAgICAgICAgIHZhbCA9IG1heDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaW5zdGFuY2UudXBkYXRlKHtcbiAgICAgICAgICAgIHRvOiB2YWxcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIChmdW5jdGlvbigkKXtcbiAgICAgICAgJCh3aW5kb3cpLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7XG4gICAgICAgICAgJChcIi5kZXNja3RvcC1maWx0ZXItY29udGFpbmVyIC5jb250ZW50LWZpbHRlciAuZmlsdGVyLWl0ZW1cIikubUN1c3RvbVNjcm9sbGJhcih7XG4gICAgICAgICAgICAgdGhlbWU6XCJteS10aGVtZVwiXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgJChcIi5tb2JpbGUtZmlsdGVyLWNvbnRhaW5lciAuY29udGVudC1maWx0ZXIgLm1vYi1jaGVjay1pdGVtXCIpLm1DdXN0b21TY3JvbGxiYXIoe1xuICAgICAgICAgICAgIHRoZW1lOlwibXktdGhlbWVcIlxuICAgICAgICAgIH0pO1xuICAgICAgICAgICQoXCIuYWxsLWxhbmctaXRlbVwiKS5tQ3VzdG9tU2Nyb2xsYmFyKHtcbiAgICAgICAgICAgICB0aGVtZTpcIm15LXRoZW1lXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgfSk7XG4gIH0pKGpRdWVyeSk7XG4gIGZ1bmN0aW9uIGNvbWUoZWxlbSkge1xuICAgIHZhciBkb2NWaWV3VG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpLFxuICAgICAgZG9jVmlld0JvdHRvbSA9IGRvY1ZpZXdUb3AgKyAkKHdpbmRvdykuaGVpZ2h0KCksXG4gICAgICBlbGVtVG9wID0gJChlbGVtKS5vZmZzZXQoKS50b3AsXG4gICAgICBlbGVtQm90dG9tID0gZWxlbVRvcCArICQoZWxlbSkuaGVpZ2h0KCk7XG5cbiAgICByZXR1cm4gKChlbGVtQm90dG9tIDw9IGRvY1ZpZXdCb3R0b20pICYmIChlbGVtVG9wID49IGRvY1ZpZXdUb3ApKTtcbiAgfVxuICAgJCgnLmZlYXR1cmVzX2l0ZW1zIC5zZWFyY2gnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCQod2luZG93KS53aWR0aCgpID49IDkwMCkge1xuICAgICAgJCgnaGVhZGVyIC5zZWFyY2gtaGVhZGVyLWxpbmUnKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKHRoaXMpLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQoJ2JvZHknKS50b2dnbGVDbGFzcygnbW9kYWwnKTtcbiAgICAgIGlmICgkKCdib2R5PmRpdicpLmhhc0NsYXNzKCdvdmVybGF5JykpIHtcbiAgICAgICAgJCgnLm92ZXJsYXknKS5yZW1vdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoJzxkaXYgY2xhc3M9XCJvdmVybGF5XCI+PC9kaXY+JykucHJlcGVuZFRvKCdib2R5Jyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICQoJy5tZW51X21vYmlsZScpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnbW9kYWwnKTtcbiAgICAgICQoJy5zZWFyY2gtd3JhcHBlciAuZm9ybSA+IGlucHV0JykuZm9jdXMoKTtcbiAgICAgfTtcbiAgICAgcmV0dXJuIGZhbHNlXG4gICB9KTtcbiAgJCgnLnNlYXJjaC1oZWFkZXItbGluZSBzdmcuY2xvc2UnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgJCgnaGVhZGVyIC5zZWFyY2gtaGVhZGVyLWxpbmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgJCgnLmZlYXR1cmVzX2l0ZW1zJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbW9kYWwnKTtcbiAgICAkKCcub3ZlcmxheScpLnJlbW92ZSgpO1xuICB9KTtcbiAgJCgnLmJ1cmdlci1tZW51JykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICQoJy5tZW51X21vYmlsZScpLmFkZENsYXNzKCdhY3RpdmUnKTsgIFxuICAgICQoJ2JvZHknKS5hZGRDbGFzcygnbW9kYWwnKTtcbiAgfSk7XG4gICQoJy5tZW51X21vYmlsZSAubW9iaWxlLWhlYWRlci1jb250YWluZXIgLmNsb3NlJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICQoJy5tZW51X21vYmlsZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ21vZGFsJyk7XG4gIH0pO1xuICAkKCcubmF2X3dyYXBwZXIgLm1lbnUgLm1lbnVfaXRlbXMnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgJCgnLm5hdl93cmFwcGVyIC5tZW51IC5tZW51X2l0ZW1zJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICB9KTtcbiAgJCgnLm1vYmlsZS1tZW51LXdyYXBwZXIgLm1lbnUgLm1lbnVfaXRlbXMnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgJCgnLm1vYmlsZS1tZW51LXdyYXBwZXIgLm1lbnUgLm1lbnVfaXRlbXMnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gIH0pO1xuICAkKCcubW9iX3N1Yl9tZW51X2l0ZW1zJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKCcubW9iX3N1Yl9tZW51X2l0ZW1zJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAkKCcubW9iX3N1Yl9tZW51X2l0ZW1zJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfSBlbHNlO1xuICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH07XG4gICAgXG4gIH0pO1xuICAkKCcucHJvbW9fbGluZSBzdmcnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS5jc3MoJ2hlaWdodCcsICcwJyk7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS5jc3MoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7XG4gIH0pO1xuICBhZGRSZW1vdmVDbGFzcygnLmluZm8tZnJhbWUgLmluZm8tY29udGVudC13cmFwcGVyPi50aXRsZScsJ2FjY29yZGlvbi1idG4nKTtcbiAgYWRkUmVtb3ZlQ2xhc3MoJ3NlY3Rpb24uaW5mbyAuaW5mby1tZW51LXdyYXBwZXInLCAnYWNjb3JkaW9uJyk7XG4gIGFkZFJlbW92ZUNsYXNzXzc2NygnLmdhbGwtd3JhcHAtbWFpbicsICdsb2FkJyk7XG4gICQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xuICAgIGFkZFJlbW92ZUNsYXNzKCcuaW5mby1mcmFtZSAuaW5mby1jb250ZW50LXdyYXBwZXI+LnRpdGxlJywnYWNjb3JkaW9uLWJ0bicpO1xuICAgIGFkZFJlbW92ZUNsYXNzKCdzZWN0aW9uLmluZm8gLmNvbnRhaW5lciAuaW5mby1mcmFtZSAuaW5mby1tZW51LXdyYXBwZXInLCAnYWNjb3JkaW9uJyk7XG4gICAgbWVudUFjY29yZGlvbk1vdmVyKCk7XG4gICAgYWRkUmVtb3ZlQ2xhc3NfNzY3KCcuZ2FsbC13cmFwcC1tYWluJywgJ2xvYWQnKTtcbiAgfSk7XG4gIG1lbnVBY2NvcmRpb25Nb3ZlcigpO1xuICBhY2NFbmdpbmUoJy5hY2Mtb3BlbicpO1xuICBmdW5jdGlvbiBzbGljZVNlbnRlbmNlKHEsIHNlbnRlbmNlKSB7XG4gICAgbGV0IHNpemUgPSBxLFxuICAgICAgbmV3c0NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbnRlbmNlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld3NDb250ZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobmV3c0NvbnRlbnRbaV0uaW5uZXJIVE1MLmxlbmd0aCA+IHNpemUpIHtcbiAgICAgICAgIFx0bmV3c0NvbnRlbnRbaV0uaW5uZXJIVE1MID0gbmV3c0NvbnRlbnRbaV0uaW5uZXJIVE1MLnNsaWNlKDAsIHNpemUpICsgJyAuLi4nO1xuICAgICAgfTtcbiAgICB9O1xuICB9OyAgICBcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPD0gMzU3KSB7XG4gICAgICBzbGljZVNlbnRlbmNlKDM0LCAnLmRpc2NycHRpb24tZ29vZHMtcyA+IHAnKTtcbiAgICAgIHNsaWNlU2VudGVuY2UoMzMsICcuZGlzY3JwdGlvbi1nb29kcyA+IHAnKTsgXG4gICAgfVxuICAgIGVsc2UgaWYgKCQod2luZG93KS53aWR0aCgpIDw9IDQ4MCAmJiAkKHdpbmRvdykud2lkdGgoKSA+PSAzNTcpIHtcbiAgICAgICAgc2xpY2VTZW50ZW5jZSgzOCwgJy5kaXNjcnB0aW9uLWdvb2RzLXMgPiBwJyk7XG4gICAgICAgIHNsaWNlU2VudGVuY2UoMzMsICcuZGlzY3JwdGlvbi1nb29kcyA+IHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgIHNsaWNlU2VudGVuY2UoMjcsICcuZGlzY3JwdGlvbi1nb29kcy1zID4gcCcpO1xuICAgICAgIHNsaWNlU2VudGVuY2UoMzMsICcuZGlzY3JwdGlvbi1nb29kcyA+IHAnKTsgXG4gICAgfTtcbiAgXG4gIHZhbGlkYXRvckZvcm0oXCIjc2lnbi1pblwiKTtcbiAgdmFsaWRhdG9yRm9ybShcIiNyZXNldC1wYXNzXCIpO1xuICAkKCcuY2xvc2UtcG9wdXAnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgY2xvc2VQb3BVcCgnLnBvcHVwLmFjdGl2ZScpO1xuICB9KTtcbiAgJCgnLmZlYXR1cmVzX2l0ZW1zIC5hdXRvcml6YXRpb24nKS5jbGljayhmdW5jdGlvbiAoKXtcbiAgICBvcGVuUG9wVXAoJyNwb3B1cC1zaWduLWluJyk7XG4gIH0pO1xuICAkKCcjcG9wdXAtc2lnbi1pbiAubGlua193cmFwcGVyIGEnKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjbG9zZVBvcFVwKCcucG9wdXAuYWN0aXZlJyk7XG4gICAgb3BlblBvcFVwKCcjcG9wdXAtcmVzZXQtcGFzcycpO1xuICB9KTtcbiAgJCgnLmxhbmctd3JhcHBlciAuc2VsZWN0LWxhbmcnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAkKHRoaXMpLmNoaWxkcmVuKCkubGFzdCgpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgfSlcbiAgJCgnLm1lbnVfbW9iaWxlIC5zZWFyY2gtbGluZScpLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCQodGhpcykudmFsKCkubGVuZ3RoID4gMCkge1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnZW50ZXInKTtcbiAgICAgICQoJy5tZW51X21vYmlsZSAuc2VhcmNoJykuYWRkQ2xhc3MoJ2VudGVyJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgkKCcubWVudV9tb2JpbGUgLnNlYXJjaCcpLmhhc0NsYXNzKCdlbnRlcicpKSB7XG4gICAgICAgICQoJy5tZW51X21vYmlsZSAuc2VhcmNoJykucmVtb3ZlQ2xhc3MoJ2VudGVyJyk7XG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2VudGVyJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICAkKFwiLnN1Yl9tZW51X2l0ZW1zID4gYVwiKS5ob3ZlcihmdW5jdGlvbiAoKSB7XG4gICAgYWRkSG92ZXIodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgfSwgZnVuY3Rpb24gKCkge1xuICAgIHJlbW92ZUhvdmVyKHRoaXMucGFyZW50RWxlbWVudCk7XG4gIH0pO1xuICAkKFwiLm1lbnVfaXRlbXMgPiBhXCIpLmhvdmVyKGZ1bmN0aW9uICgpIHtcbiAgICBhZGRIb3Zlcih0aGlzKTtcbiAgfSwgZnVuY3Rpb24gKCkge1xuICAgIHJlbW92ZUhvdmVyKHRoaXMpO1xuICAgfSk7XG4gICQoXCIuZmVhdHVyZXNfaXRlbXMgPiBhXCIpLmhvdmVyKGZ1bmN0aW9uICgpIHtcbiAgICBhZGRIb3Zlcih0aGlzLnBhcmVudEVsZW1lbnQpO1xuICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgcmVtb3ZlSG92ZXIodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgfSk7XG4gIGxldCBoZWlnaHRIZWFkZXIgPSAkKCdoZWFkZXInKS5oZWlnaHQoKTtcbiAgJCh3aW5kb3cpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJCgnaGVhZGVyJykuaGVpZ2h0KCkgPCBoZWlnaHRIZWFkZXIpIHtcbiAgICAgICQoJ21haW4nKS5jc3MoJ3BhZGRpbmcnLCAkKCdoZWFkZXInKS5oZWlnaHQoKSArICdweCcpO1xuICAgIH1cbiAgfSk7XG4gIGdvVG9DdXJyZW5jeSgnLnByaWNlJyk7XG4gIGdvVG9DdXJyZW5jeSgnLnByaWNlX25ldycpO1xuICBnb1RvQ3VycmVuY3koJy5wcmljZV9vbGQnKTtcbiAgJCgnLmRlc2NrdG9wLWZpbHRlci1jb250YWluZXIgLmZpbHRlci1oZWFkZXInKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuICAgICAgJCgnLmRlc2NrdG9wLWZpbHRlci1jb250YWluZXIgLmZpbHRlci1oZWFkZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKCcuZGVzY2t0b3AtZmlsdGVyLWNvbnRhaW5lciAuZmlsdGVyLWhlYWRlcicpLm5leHQoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKCcubG9jay1wb2ludGVyJykucmVtb3ZlKCk7XG4gICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnbm8tYWN0aXZlJykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICQodGhpcykubmV4dCgpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgJChcIjxkaXYgY2xhc3M9J2xvY2stcG9pbnRlcic+PC9kaXY+XCIpLmFwcGVuZFRvKFwiYm9keVwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgJCgnLmxvY2stcG9pbnRlcicpLnJlbW92ZSgpO1xuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKHRoaXMpLm5leHQoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcbiAgJChkb2N1bWVudCkuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fd3JhcHBlcicpKSB7XG4gICAgICBjbG9zZVBvcFVwKCcucG9wdXAuYWN0aXZlJyk7XG4gICAgfVxuICB9KTtcbiAgJChkb2N1bWVudCkuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdsb2NrLXBvaW50ZXInKSkge1xuICAgICAgJCgnLmZpbHRlci1oZWFkZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKCcuZmlsdGVyLWhlYWRlcicpLm5leHQoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKCcubG9jay1wb2ludGVyJykucmVtb3ZlKCk7XG4gICAgfSBlbHNlIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ292ZXJsYXknKSkge1xuICAgICAgJCgnaGVhZGVyIC5zZWFyY2gtaGVhZGVyLWxpbmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKCcuZmVhdHVyZXNfaXRlbXMnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ21vZGFsJyk7XG4gICAgICAkKCcub3ZlcmxheScpLnJlbW92ZSgpO1xuICAgIH1cbiAgfSk7XG4gICQoJy5tb3JlLWxlc3MtZmlsdGVyJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICQodGhpcykuY2hpbGRyZW4oKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdvcGVuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQodGhpcykucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICB9XG4gIH0pO1xuICBpbml0UmFuZ2VTbGlkZXIoKTtcbiAgY2hlY2tCb3hFbmdpbmUoJy5ib3gtY2hlY2suc2l6ZScpO1xuICBjaGVja0JveEVuZ2luZSgnLmJveC1jaGVjay5jb2xvcicpO1xuICBjaGVja0JveEVuZ2luZSgnLmJveC1jaGVjay5jYXRfZicpO1xuICBjaGVja0JveEVuZ2luZSgnLmJveC1jaGVjay5icmFuZCcpO1xuICBjaGVja0JveEVuZ2luZSgnLmJveC1jaGVjay5tYXRlcmlhbCcpO1xuICBjaGVja0JveEVuZ2luZSgnLmJveC1jaGVjay5oJyk7XG4gIHJlc2V0U2VsZWN0KCcuY29udGVudC1maWx0ZXIuc2l6ZSAucmVzZXItc2VsZWN0JywgJy5ib3gtY2hlY2suc2l6ZScpO1xuICByZXNldFNlbGVjdCgnLmNvbnRlbnQtZmlsdGVyLmNvbG9yIC5yZXNlci1zZWxlY3QnLCAnLmJveC1jaGVjay5jb2xvcicpO1xuICByZXNldFNlbGVjdCgnLmNvbnRlbnQtZmlsdGVyLmNhdF9mIC5yZXNlci1zZWxlY3QnLCAnLmJveC1jaGVjay5jYXRfZicpO1xuICByZXNldFNlbGVjdCgnLmNvbnRlbnQtZmlsdGVyLmJyYW5kIC5yZXNlci1zZWxlY3QnLCAnLmJveC1jaGVjay5icmFuZCcpO1xuICByZXNldFNlbGVjdCgnLmNvbnRlbnQtZmlsdGVyLm1hdGVyaWFsIC5yZXNlci1zZWxlY3QnLCAnLmJveC1jaGVjay5tYXRlcmlhbCcpO1xuICByZXNldFNlbGVjdCgnLmNvbnRlbnQtZmlsdGVyLmggLnJlc2VyLXNlbGVjdCcsICcuYm94LWNoZWNrLmgnKTtcbiAgJCgnLm1vYmlsZS1maWx0ZXItY29udGFpbmVyIC5maWx0ZXItaGVhZGVyJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIG9wZW5Qb3BVcCgkKHRoaXMpLm5leHQoKSk7XG4gIH0pO1xuICAkKCcubW9kYWwtZml0ZXIgLnRpdGxlLWZpbHRlciBzdmcnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgY2xvc2VQb3BVcCgnLm1vZGFsLWZpdGVyJyk7XG4gIH0pO1xuICAkKCcubW9iLWZpbHRlci1oZWFkZXInKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgJCh0aGlzKS5wYXJlbnQoKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gIH0pO1xuICBcbiAgbGV0IGNvdW50ID0gMDtcbiAgICQoJy5tb2ItY2hlY2staXRlbXMgLmJveC1jaGVjaycpLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykpIHtcbiAgICAgICAgY291bnQrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvdW50LS07XG4gICAgICB9XG4gICAgICQoJy5tb2RhbC1yZXNldCBzcGFuJykuaHRtbCgnKCcgKyBjb3VudCArICcpJylcbiAgICAgaWYgKGNvdW50ID4gMCkge1xuICAgICAgICQoJy5tb2RhbC1yZXNldCcpLnJlbW92ZUNsYXNzKCduby1hY3RpdmUnKTtcbiAgICAgICAkKCcubW9kYWwtc3VibWl0JykucmVtb3ZlQ2xhc3MoJ25vLWFjdGl2ZScpO1xuICAgICB9IGVsc2Uge1xuICAgICAgICQoJy5tb2RhbC1yZXNldCcpLmFkZENsYXNzKCduby1hY3RpdmUnKTtcbiAgICAgICAkKCcubW9kYWwtc3VibWl0JykuYWRkQ2xhc3MoJ25vLWFjdGl2ZScpO1xuICAgICB9XG4gICB9KTtcbiAgJCgnLm1vYi1jaGVjay1pdGVtcyAuYm94LWNoZWNrOm5vdCguY29sb3IpJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSkge1xuXG4gICAgICAkKHRoaXMpLnBhcmVudHMoJy5tb2ItZmlsdGVyLWl0ZW1zJykuY2hpbGRyZW4oJy5tb2ItZmlsdGVyLWhlYWRlcicpLmFwcGVuZCgnPHNwYW4gZGF0YS1uYW1lPScrICQodGhpcykubmV4dCgpLmh0bWwoKSsnPignICsgJCh0aGlzKS5uZXh0KCkuaHRtbCgpICsgJyk8L3NwYW4+Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgJCh0aGlzKS5wYXJlbnRzKCcubW9iLWZpbHRlci1pdGVtcycpLmNoaWxkcmVuKCcubW9iLWZpbHRlci1oZWFkZXInKS5maW5kKCdzcGFuW2RhdGEtbmFtZT0nKyQodGhpcykubmV4dCgpLmh0bWwoKSsnXScpLnJlbW92ZSgpO1xuICAgICAgfVxuICB9KTtcbiAgJCgnLm1vZGFsLXJlc2V0JykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICQoJy5tb2ItY2hlY2staXRlbXMgLmJveC1jaGVjaycpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgJCgnLm1vYi1maWx0ZXItaGVhZGVyJykuZmluZCgnc3BhbicpLnJlbW92ZSgpO1xuICAgIGNvdW50ID0gMDtcbiAgICAkKCcubW9kYWwtcmVzZXQgc3BhbicpLmh0bWwoJygnICsgY291bnQgKyAnKScpO1xuICAgICQoJy5tb2RhbC1yZXNldCcpLmFkZENsYXNzKCduby1hY3RpdmUnKTtcbiAgICAkKCcubW9kYWwtc3VibWl0JykuYWRkQ2xhc3MoJ25vLWFjdGl2ZScpO1xuXG4gIH0pO1xuICBpZiAoJCgnI2J0bi13YXRjaCcpLmxlbmd0aCA+IDApIHtcbiAgICAgJChkb2N1bWVudCkuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChjb21lKCcjYnRuLXdhdGNoJykpIHtcbiAgICAgICAgICQoJy5wcmV2aWV3LWhlYWRlci1nb29kcycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAkKCcucHJldmlldy1oZWFkZXItZ29vZHMnKS5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICB9XG4gICAgIH0pO1xuICB9O1xuICBcbiAgbGV0IG1vYkdhbGxTbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbC13cmFwcC1tYWluJyksXG4gICAgY2xvc2VHYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGwtY2xvc2UtYnRuJyk7XG4gIGlmIChtb2JHYWxsU2xpZGVyKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZ2FsbC13cmFwcC1tYWluJykpIHtcbiAgICAgICAgICBtb2JHYWxsU2xpZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsJylcbiAgICAgICB9IGVsc2UgeyByZXR1cm4gfTtcbiAgICB9KTtcbiAgICBjbG9zZUdhbGxlcnkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICBtb2JHYWxsU2xpZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwnKTtcbiAgICB9KTtcbiAgICBcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2xpZGUtMScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIG1vYkdhbGxTbGlkZXIuY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdtb2RhbCcpO1xuICAgICAgc3dpcGVyR29vZHMuc2xpZGVUbygxLCAwKTtcbiAgICAgIH0pO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzbGlkZS0yJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgbW9iR2FsbFNsaWRlci5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vZGFsJyk7XG4gICAgICBzd2lwZXJHb29kcy5zbGlkZVRvKDIsIDApO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzbGlkZS0zJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgbW9iR2FsbFNsaWRlci5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vZGFsJyk7XG4gICAgICBzd2lwZXJHb29kcy5zbGlkZVRvKDMsIDApO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzbGlkZS00JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgbW9iR2FsbFNsaWRlci5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vZGFsJyk7XG4gICAgICBzd2lwZXJHb29kcy5zbGlkZVRvKDQsIDApO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzbGlkZS01JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgbW9iR2FsbFNsaWRlci5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vZGFsJyk7XG4gICAgICBzd2lwZXJHb29kcy5zbGlkZVRvKDUsIDApO1xuICAgIH0pOyAgXG4gIH0gZWxzZSB7IHJldHVybiB9O1xufTtcblxuXG4gIl0sImZpbGUiOiJpbmRleC5taW4uanMifQ==
