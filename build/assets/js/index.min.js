function init(){new Swiper(".slider_container.swiper-container",{spaceBetween:30,loop:!0,autoplay:{delay:3500,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".prod-slider-container.swiper-container",{spaceBetween:16,slidesPerView:5,slidesPerGroup:1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{0:{spaceBetween:4,slidesPerView:1},300:{spaceBetween:4,slidesPerView:2.08},375:{spaceBetween:4,slidesPerView:2.08},480:{slidesPerView:2.6,spaceBetween:4},600:{slidesPerView:2.8,spaceBetween:4},768:{slidesPerView:4,spaceBetween:10},1024:{slidesPerView:5},1366:{slidesPerView:5}}});let e=new Swiper(".gallery-mob-container.swiper-container",{spaceBetween:30,loop:!0,centeredSlides:!0,autoplay:{delay:3500,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".goods-pagination",clickable:!0}});function t(){let e=document.querySelectorAll(".accordion-btn");for(let t=0;t<e.length;t++)e[t].addEventListener("click",function(){this.classList.toggle("active");let i=e[t].parentElement.previousElementSibling;i.style.maxHeight&&i.classList.contains("accordion")?i.style.maxHeight=null:i.style.maxHeight=i.scrollHeight+"px"})}function i(e,t){$(window).width()<=900?$(e).addClass(t):$(e).removeClass(t)}function n(e,t){$(window).width()>=767?$(e).addClass(t):$(e).removeClass(t)}function s(e){$(e).addClass("active"),$("body").addClass("modal")}function a(e){$(e).removeClass("active"),$("body").removeClass("modal")}function o(e){$(e).validate({rules:{psword:{required:!0,minlength:6},email_n:"required EMAIL"},messages:{psword:{minlength:"Минимальная длина пароля 6 символов"}}})}function l(e){$(e).addClass("in-hover")}function c(e){$(e).removeClass("in-hover")}function r(e){let t=document.querySelectorAll(e);for(let e=0;e<t.length;e++){let i=+t[e].innerHTML,n=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(i);t[e].innerHTML=n}}function d(e){let t=0;$(e).change(function(){$(this).prop("checked")?t++:t--,m(this,t),$(this).parentsUntil(".content-filter").next(".btn-wrapper").children(".state-select").children(".numb-select").children("span").html(t)})}function m(e,t){t>0?($(e).parentsUntil(".content-filter").next(".btn-wrapper").children(".filter-btn").removeClass("no-active"),$(e).parent(".filter-items").parentsUntil(".filter-items").prev().addClass("select")):($(e).parentsUntil(".content-filter").next(".btn-wrapper").children(".filter-btn").addClass("no-active"),$(e).parent(".filter-items").parentsUntil(".filter-items").prev().removeClass("select"))}function p(e,t){$(e).click(function(i){i.preventDefault(),$(t).prop("checked",!1),$(e).next(".numb-select").children("span").html(0),v=0,m(t)})}function u(e,t){let i=e,n=document.querySelectorAll(t);for(let e=0;e<n.length;e++)n[e].innerHTML.length>i&&(n[e].innerHTML=n[e].innerHTML.slice(0,i)+" ...")}jQuery.extend(jQuery.validator.messages,{required:"Поле является обязательным",remote:"Поле является обязательным",email:"Введите корректный электронный адрес"}),$.validator.addMethod("EMAIL",function(e,t){return this.optional(t)||/^[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+\.[a-zA-Z.]{2,5}$/i.test(e)},"Введите корректный электронный адрес"),function(e){e(window).on("load",function(){e(".descktop-filter-container .content-filter .filter-item").mCustomScrollbar({theme:"my-theme"}),e(".mobile-filter-container .content-filter .mob-check-item").mCustomScrollbar({theme:"my-theme"}),e(".all-lang-item").mCustomScrollbar({theme:"my-theme"})})}(jQuery),$(".features_items .search").click(function(){return $(window).width()>=900?($("header .search-header-line").toggleClass("active"),$(this).parent().toggleClass("active"),$("body").toggleClass("modal"),$("body>div").hasClass("overlay")?$(".overlay").remove():$('<div class="overlay"></div>').prependTo("body")):($(".menu_mobile").addClass("active"),$("body").addClass("modal"),$(".search-wrapper .form > input").focus()),!1}),$(".search-header-line svg.close").click(function(){$("header .search-header-line").removeClass("active"),$(".features_items").removeClass("active"),$("body").removeClass("modal"),$(".overlay").remove()}),$(".burger-menu").click(function(){$(".menu_mobile").addClass("active"),$("body").addClass("modal")}),$(".menu_mobile .mobile-header-container .close").click(function(){$(".menu_mobile").removeClass("active"),$("body").removeClass("modal")}),$(".nav_wrapper .menu .menu_items").click(function(){$(".nav_wrapper .menu .menu_items").removeClass("active"),$(this).addClass("active")}),$(".mobile-menu-wrapper .menu .menu_items").click(function(){$(".mobile-menu-wrapper .menu .menu_items").removeClass("active"),$(this).addClass("active")}),$(".mob_sub_menu_items").click(function(){$(".mob_sub_menu_items").hasClass("active")&&($(".mob_sub_menu_items").removeClass("active"),$(this).addClass("active")),$(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active")}),$(".promo_line svg").click(function(){$(this).parent().css("height","0"),$(this).parent().css("visibility","hidden")}),i(".info-frame .info-content-wrapper>.title","accordion-btn"),i("section.info .info-menu-wrapper","accordion"),n(".gall-wrapp-main","load"),$(window).resize(function(){i(".info-frame .info-content-wrapper>.title","accordion-btn"),i("section.info .container .info-frame .info-menu-wrapper","accordion"),t(),n(".gall-wrapp-main","load")}),t(),function(e){let t=document.querySelectorAll(e);for(let e=0;e<t.length;e++)t[e].addEventListener("click",function(){this.classList.toggle("active");let e=this.nextElementSibling;e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"})}(".acc-open"),$(window).width()<=357?(u(34,".discrption-goods-s > p"),u(33,".discrption-goods > p")):$(window).width()<=480&&$(window).width()>=357?(u(38,".discrption-goods-s > p"),u(33,".discrption-goods > p")):(u(27,".discrption-goods-s > p"),u(33,".discrption-goods > p")),o("#sign-in"),o("#reset-pass"),$(".close-popup").click(function(){a(".popup.active")}),$(".features_items .autorization").click(function(){s("#popup-sign-in")}),$("#popup-sign-in .link_wrapper a").click(function(e){e.preventDefault(),a(".popup.active"),s("#popup-reset-pass")}),$(".lang-wrapper .select-lang").click(function(){$(this).toggleClass("active"),$(this).children().last().toggleClass("active")}),$(".menu_mobile .search-line").change(function(){if($(this).val().length>0)$(this).addClass("enter"),$(".menu_mobile .search").addClass("enter");else{if(!$(".menu_mobile .search").hasClass("enter"))return;$(".menu_mobile .search").removeClass("enter"),$(this).removeClass("enter")}}),$(".sub_menu_items > a").hover(function(){l(this.parentElement)},function(){c(this.parentElement)}),$(".menu_items > a").hover(function(){l(this)},function(){c(this)}),$(".features_items > a").hover(function(){l(this.parentElement)},function(){c(this.parentElement)});let h=$("header").height();$(window).click(function(){$("header").height()<h&&$("main").css("padding",$("header").height()+"px")}),r(".price"),r(".price_new"),r(".price_old"),$(".descktop-filter-container .filter-header").click(function(){if($(this).hasClass("active"))$(".lock-pointer").remove(),$(this).removeClass("active"),$(this).next().removeClass("active");else{if($(".descktop-filter-container .filter-header").removeClass("active"),$(".descktop-filter-container .filter-header").next().removeClass("active"),$(".lock-pointer").remove(),$(this).hasClass("no-active"))return!1;$(this).addClass("active"),$(this).next().addClass("active"),$("<div class='lock-pointer'></div>").appendTo("body")}}),$(document).click(function(e){e.target.classList.contains("popup__wrapper")&&a(".popup.active")}),$(document).click(function(e){e.target.classList.contains("lock-pointer")?($(".filter-header").removeClass("active"),$(".filter-header").next().removeClass("active"),$(".lock-pointer").remove()):e.target.classList.contains("overlay")&&($("header .search-header-line").removeClass("active"),$(".features_items").removeClass("active"),$("body").removeClass("modal"),$(".overlay").remove())}),$(".more-less-filter").click(function(){$(this).toggleClass("active"),$(this).children().toggleClass("active"),$(this).hasClass("active")?$(this).parent().addClass("open"):$(this).parent().removeClass("open")}),function(){var e,t=$(".js-range-slider"),i=$(".js-input-from"),n=$(".js-input-to"),s=0,a=0;function o(e){s=e.from,a=e.to,i.prop("value",s),n.prop("value",a)}t.ionRangeSlider({skin:"round",type:"double",min:0,max:1e5,from:0,to:1e5,onStart:o,onChange:o}),e=t.data("ionRangeSlider"),i.on("input",function(){var t=$(this).prop("value");t<0?t=0:t>a&&(t=a),e.update({from:t})}),n.on("input",function(){var t=$(this).prop("value");t<s?t=s:t>1e5&&(t=1e5),e.update({to:t})})}(),d(".box-check.size"),d(".box-check.color"),d(".box-check.cat_f"),d(".box-check.brand"),d(".box-check.material"),d(".box-check.h"),p(".content-filter.size .reser-select",".box-check.size"),p(".content-filter.color .reser-select",".box-check.color"),p(".content-filter.cat_f .reser-select",".box-check.cat_f"),p(".content-filter.brand .reser-select",".box-check.brand"),p(".content-filter.material .reser-select",".box-check.material"),p(".content-filter.h .reser-select",".box-check.h"),$(".mobile-filter-container .filter-header").click(function(){s($(this).next())}),$(".modal-fiter .title-filter svg").click(function(){a(".modal-fiter")}),$(".mob-filter-header").click(function(){$(this).toggleClass("active"),$(this).parent().toggleClass("active")});let v=0;$(".mob-check-items .box-check").change(function(){$(this).prop("checked")?v++:v--,$(".modal-reset span").html("("+v+")"),v>0?($(".modal-reset").removeClass("no-active"),$(".modal-submit").removeClass("no-active")):($(".modal-reset").addClass("no-active"),$(".modal-submit").addClass("no-active"))}),$(".mob-check-items .box-check:not(.color)").click(function(){$(this).prop("checked")?$(this).parents(".mob-filter-items").children(".mob-filter-header").append("<span data-name="+$(this).next().html()+">("+$(this).next().html()+")</span>"):$(this).parents(".mob-filter-items").children(".mob-filter-header").find("span[data-name="+$(this).next().html()+"]").remove()}),$(".modal-reset").click(function(){$(".mob-check-items .box-check").prop("checked",!1),$(".mob-filter-header").find("span").remove(),v=0,$(".modal-reset span").html("("+v+")"),$(".modal-reset").addClass("no-active"),$(".modal-submit").addClass("no-active")}),$("#btn-watch").length>0&&$(document).scroll(function(){var e,t,i,n;e="#btn-watch",t=$(window).scrollTop(),i=t+$(window).height(),(n=$(e).offset().top)+$(e).height()<=i&&n>=t?$(".preview-header-goods").removeClass("active"):$(".preview-header-goods").addClass("active")});let f=document.querySelector(".gall-wrapp-main"),b=document.querySelector(".gall-close-btn");f&&(document.addEventListener("click",function(e){e.target.classList.contains("gall-wrapp-main")&&(f.classList.remove("open"),document.body.classList.remove("modal"))}),b.addEventListener("click",function(){f.classList.remove("open"),document.body.classList.remove("modal")}),document.querySelector("#slide-1").addEventListener("click",function(t){t.preventDefault(),f.classList.add("open"),document.body.classList.add("modal"),e.slideTo(1,0)}),document.querySelector("#slide-2").addEventListener("click",function(t){t.preventDefault(),f.classList.add("open"),document.body.classList.add("modal"),e.slideTo(2,0)}),document.querySelector("#slide-3").addEventListener("click",function(t){t.preventDefault(),f.classList.add("open"),document.body.classList.add("modal"),e.slideTo(3,0)}),document.querySelector("#slide-4").addEventListener("click",function(t){t.preventDefault(),f.classList.add("open"),document.body.classList.add("modal"),e.slideTo(4,0)}),document.querySelector("#slide-5").addEventListener("click",function(t){t.preventDefault(),f.classList.add("open"),document.body.classList.add("modal"),e.slideTo(5,0)}))}window.addEventListener("DOMContentLoaded",init);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImluaXQiLCJTd2lwZXIiLCJzcGFjZUJldHdlZW4iLCJsb29wIiwiYXV0b3BsYXkiLCJkZWxheSIsImRpc2FibGVPbkludGVyYWN0aW9uIiwicGFnaW5hdGlvbiIsImVsIiwiY2xpY2thYmxlIiwic2xpZGVzUGVyVmlldyIsInNsaWRlc1Blckdyb3VwIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsImJyZWFrcG9pbnRzIiwiMCIsIjMwMCIsIjM3NSIsIjQ4MCIsIjYwMCIsIjc2OCIsIjEwMjQiLCIxMzY2Iiwic3dpcGVyR29vZHMiLCJjZW50ZXJlZFNsaWRlcyIsIm1lbnVBY2NvcmRpb25Nb3ZlciIsImFjYyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImkiLCJsZW5ndGgiLCJhZGRFdmVudExpc3RlbmVyIiwidGhpcyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInBhbmVsIiwicGFyZW50RWxlbWVudCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJzdHlsZSIsIm1heEhlaWdodCIsImNvbnRhaW5zIiwic2Nyb2xsSGVpZ2h0IiwiYWRkUmVtb3ZlQ2xhc3MiLCJlbGVtIiwiYWRkIiwiJCIsIndpbmRvdyIsIndpZHRoIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZFJlbW92ZUNsYXNzXzc2NyIsIm9wZW5Qb3BVcCIsImNsb3NlUG9wVXAiLCJ2YWxpZGF0b3JGb3JtIiwidmFsaWRhdGUiLCJydWxlcyIsInBzd29yZCIsInJlcXVpcmVkIiwibWlubGVuZ3RoIiwiZW1haWxfbiIsIm1lc3NhZ2VzIiwiYWRkSG92ZXIiLCJyZW1vdmVIb3ZlciIsImdvVG9DdXJyZW5jeSIsIm51bWJlclRvRm9ybWF0IiwidG9OdW1iIiwiaW5uZXJIVE1MIiwiZm9ybWF0TnVtIiwiSW50bCIsIk51bWJlckZvcm1hdCIsImN1cnJlbmN5IiwibWluaW11bUZyYWN0aW9uRGlnaXRzIiwiZm9ybWF0IiwiY2hlY2tCb3hFbmdpbmUiLCJjb3VudCIsImNoYW5nZSIsInByb3AiLCJjaGVjaEJ0biIsInBhcmVudHNVbnRpbCIsIm5leHQiLCJjaGlsZHJlbiIsImh0bWwiLCJhIiwicGFyZW50IiwicHJldiIsInJlc2V0U2VsZWN0IiwiYm94IiwiY2xpY2siLCJlIiwicHJldmVudERlZmF1bHQiLCJzbGljZVNlbnRlbmNlIiwicSIsInNlbnRlbmNlIiwic2l6ZSIsIm5ld3NDb250ZW50Iiwic2xpY2UiLCJqUXVlcnkiLCJleHRlbmQiLCJ2YWxpZGF0b3IiLCJyZW1vdGUiLCJlbWFpbCIsImFkZE1ldGhvZCIsInZhbHVlIiwiZWxlbWVudCIsIm9wdGlvbmFsIiwidGVzdCIsIm9uIiwibUN1c3RvbVNjcm9sbGJhciIsInRoZW1lIiwidG9nZ2xlQ2xhc3MiLCJoYXNDbGFzcyIsInJlbW92ZSIsInByZXBlbmRUbyIsImZvY3VzIiwiY3NzIiwicmVzaXplIiwicGljayIsIm5leHRFbGVtZW50U2libGluZyIsImFjY0VuZ2luZSIsImxhc3QiLCJ2YWwiLCJob3ZlciIsImhlaWdodEhlYWRlciIsImhlaWdodCIsImFwcGVuZFRvIiwidGFyZ2V0IiwiaW5zdGFuY2UiLCIkcmFuZ2UiLCIkaW5wdXRGcm9tIiwiJGlucHV0VG8iLCJmcm9tIiwidG8iLCJ1cGRhdGVJbnB1dHMiLCJkYXRhIiwiaW9uUmFuZ2VTbGlkZXIiLCJza2luIiwidHlwZSIsIm1pbiIsIm1heCIsIm9uU3RhcnQiLCJvbkNoYW5nZSIsInVwZGF0ZSIsImluaXRSYW5nZVNsaWRlciIsInBhcmVudHMiLCJhcHBlbmQiLCJmaW5kIiwic2Nyb2xsIiwiZG9jVmlld1RvcCIsImRvY1ZpZXdCb3R0b20iLCJlbGVtVG9wIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwibW9iR2FsbFNsaWRlciIsInF1ZXJ5U2VsZWN0b3IiLCJjbG9zZUdhbGxlcnkiLCJib2R5Iiwic2xpZGVUbyJdLCJtYXBwaW5ncyI6IkFBQ0EsU0FBU0EsT0FFYyxJQUFJQyxPQUFPLHFDQUFzQyxDQUNsRUMs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RUFBY3hILFVBQVVXLElBQUksUUFDNUJqQixTQUFTaUksS0FBSzNILFVBQVVXLElBQUksU0FDNUJyQixFQUFZc0ksUUFBUSxFQUFHLEtBRXpCbEksU0FBUytILGNBQWMsWUFBWTNILGlCQUFpQixRQUFTLFNBQVV5RCxHQUNyRUEsRUFBRUMsaUJBQ0ZnRSxFQUFjeEgsVUFBVVcsSUFBSSxRQUM1QmpCLFNBQVNpSSxLQUFLM0gsVUFBVVcsSUFBSSxTQUM1QnJCLEVBQVlzSSxRQUFRLEVBQUcsTUE5akI3Qi9HLE9BQU9mLGlCQUFpQixtQkFBb0JoQyIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBpbml0KTtcclxuZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIC8qU2xpZGVyIHN3aXBlciBoZWFkZXIgYmFubmVyIHN0YXJ0Ki9cclxuICAgIGxldCBzd2lwZXJCYW5uZXIgPSBuZXcgU3dpcGVyKCcuc2xpZGVyX2NvbnRhaW5lci5zd2lwZXItY29udGFpbmVyJywge1xyXG4gICAgICBzcGFjZUJldHdlZW46IDMwLFxyXG4gICAgICBsb29wOiB0cnVlLFxyXG4gICAgICBhdXRvcGxheToge1xyXG4gICAgICAgIGRlbGF5OiAzNTAwLFxyXG4gICAgICAgIGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcclxuICAgICAgfSxcclxuICAgICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICAgIGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcclxuICAgICAgICAgIGNsaWNrYWJsZTogdHJ1ZSwgXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICAgIC8qU2xpZGVyIHN3aXBlciBoZWFkZXIgYmFubmVyIGVuZCovXHJcblxyXG4gICAgLypTbGlkZXIgc3dpcGVyIHByb2Qtc2xpZGVyIHN0YXJ0Ki9cclxuICAgIGxldCBzd2lwZXJQcm9kID0gbmV3IFN3aXBlcignLnByb2Qtc2xpZGVyLWNvbnRhaW5lci5zd2lwZXItY29udGFpbmVyJywge1xyXG4gICAgICBzcGFjZUJldHdlZW46IDE2LFxyXG4gICAgICBzbGlkZXNQZXJWaWV3OiA1LFxyXG4gICAgICBzbGlkZXNQZXJHcm91cDogMSxcclxuICAgICAgLy8gZ3JhYkN1cnNvcjogdHJ1ZSxcclxuICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgIG5leHRFbDogJy5zd2lwZXItYnV0dG9uLW5leHQnLFxyXG4gICAgICAgIHByZXZFbDogJy5zd2lwZXItYnV0dG9uLXByZXYnLFxyXG4gICAgICB9LFxyXG4gICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgIDA6IHtcclxuICAgICAgICAgICBzcGFjZUJldHdlZW46IDQsXHJcbiAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMSxcclxuICAgICAgICAgfSxcclxuICAgICAgICAzMDA6IHtcclxuICAgICAgICAgICBzcGFjZUJldHdlZW46IDQsXHJcbiAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMi4wOCxcclxuICAgICAgICAgfSxcclxuXHRcdFx0ICAgMzc1OiB7XHJcbiAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiA0LFxyXG4gICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDIuMDgsXHJcbiAgICAgICAgfSxcclxuICAgICAgICAgNDgwOiB7XHJcbiAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMi42LFxyXG4gICAgICAgICAgIHNwYWNlQmV0d2VlbjogNCxcclxuICAgICAgICB9LFxyXG4gICAgICAgICA2MDA6IHtcclxuICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLjgsXHJcbiAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiA0LFxyXG4gICAgICAgICB9LFxyXG4gICAgICAgICA3Njg6IHtcclxuICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LFxyXG4gICAgICAgICAgIHNwYWNlQmV0d2VlbjogMTAsXHJcbiAgICAgICAgIH0sXHJcbiAgICAgICAgMTAyNDoge1xyXG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogNSxcclxuXHRcdFx0ICAgfSxcclxuXHRcdFx0ICAgMTM2Njoge1xyXG5cdFx0XHQgICBcdHNsaWRlc1BlclZpZXc6IDUsXHJcblx0XHRcdCAgIH0sXHJcblx0XHQgIH0sXHJcbiAgICB9KTtcclxuICAvKlNsaWRlciBzd2lwZXIgcHJvZC1zbGlkZXIgZW5kKi9cclxuICAvKlNsaWRlciBzd2lwZXIgZ29vZHMtY2FyZCBzdGFydCovXHJcbiAgbGV0IHN3aXBlckdvb2RzID0gbmV3IFN3aXBlcignLmdhbGxlcnktbW9iLWNvbnRhaW5lci5zd2lwZXItY29udGFpbmVyJywge1xyXG4gICAgc3BhY2VCZXR3ZWVuOiAzMCxcclxuICAgIGxvb3A6IHRydWUsXHJcbiAgICBjZW50ZXJlZFNsaWRlczogdHJ1ZSxcclxuICAgIGF1dG9wbGF5OiB7XHJcbiAgICAgIGRlbGF5OiAzNTAwLFxyXG4gICAgICBkaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXHJcbiAgICB9LFxyXG4gICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgIG5leHRFbDogJy5zd2lwZXItYnV0dG9uLW5leHQnLFxyXG4gICAgICAgIHByZXZFbDogJy5zd2lwZXItYnV0dG9uLXByZXYnLFxyXG4gICAgfSxcclxuICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgZWw6ICcuZ29vZHMtcGFnaW5hdGlvbicsXHJcbiAgICAgICAgY2xpY2thYmxlOiB0cnVlLCBcclxuICAgIH0sXHJcbiAgfSk7XHJcbiAgLypTbGlkZXIgc3dpcGVyIGdvb2RzLWNhcmQgZW5kKi9cclxuICBmdW5jdGlvbiBtZW51QWNjb3JkaW9uTW92ZXIoKSB7XHJcbiAgICBsZXQgYWNjID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hY2NvcmRpb24tYnRuXCIpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY2MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgYWNjW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIGxldCBwYW5lbCA9IGFjY1tpXS5wYXJlbnRFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XHJcbiAgICAgICAgIGlmIChwYW5lbC5zdHlsZS5tYXhIZWlnaHQmJnBhbmVsLmNsYXNzTGlzdC5jb250YWlucygnYWNjb3JkaW9uJykpIHtcclxuICAgICAgICAgICBwYW5lbC5zdHlsZS5tYXhIZWlnaHQgPSBudWxsO1xyXG4gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgIHBhbmVsLnN0eWxlLm1heEhlaWdodCA9IHBhbmVsLnNjcm9sbEhlaWdodCArIFwicHhcIjtcclxuICAgICAgICAgfSBcclxuICAgICAgIH0pO1xyXG4gICAgfTsgXHJcbiAgfTtcclxuICBmdW5jdGlvbiBhY2NFbmdpbmUocGljaykge1xyXG4gICAgbGV0IGFjYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocGljayk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjYy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBhY2NbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgbGV0IHBhbmVsID0gdGhpcy5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgICAgICAgIGlmIChwYW5lbC5zdHlsZS5tYXhIZWlnaHQpIHtcclxuICAgICAgICAgICBwYW5lbC5zdHlsZS5tYXhIZWlnaHQgPSBudWxsO1xyXG4gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgIHBhbmVsLnN0eWxlLm1heEhlaWdodCA9IHBhbmVsLnNjcm9sbEhlaWdodCArIFwicHhcIjtcclxuICAgICAgICAgfSBcclxuICAgICAgIH0pO1xyXG4gICAgfTsgXHJcbiAgfTtcclxuICBmdW5jdGlvbiBhZGRSZW1vdmVDbGFzcyhlbGVtLCBhZGQpIHtcclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8PSA5MDApIHtcclxuICAgICAgJChlbGVtKS5hZGRDbGFzcyhhZGQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJChlbGVtKS5yZW1vdmVDbGFzcyhhZGQpO1xyXG4gICAgfTtcclxuICB9O1xyXG4gIGZ1bmN0aW9uIGFkZFJlbW92ZUNsYXNzXzc2NyhlbGVtLCBhZGQpIHtcclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+PSA3NjcpIHtcclxuICAgICAgJChlbGVtKS5hZGRDbGFzcyhhZGQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJChlbGVtKS5yZW1vdmVDbGFzcyhhZGQpO1xyXG4gICAgfTtcclxuICB9O1xyXG4gIFxyXG4gIGZ1bmN0aW9uIG9wZW5Qb3BVcChlbGVtKSB7XHJcbiAgICAkKGVsZW0pLmFkZENsYXNzKCdhY3RpdmUnKTsgIFxyXG4gICAgJCgnYm9keScpLmFkZENsYXNzKCdtb2RhbCcpO1xyXG4gIH07XHJcbiAgZnVuY3Rpb24gY2xvc2VQb3BVcChlbGVtKSB7XHJcbiAgICAkKGVsZW0pLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsgIFxyXG4gICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdtb2RhbCcpO1xyXG4gIH07XHJcbiAgalF1ZXJ5LmV4dGVuZChqUXVlcnkudmFsaWRhdG9yLm1lc3NhZ2VzLCB7XHJcbiAgICByZXF1aXJlZDogXCLQn9C+0LvQtSDRj9Cy0LvRj9C10YLRgdGPINC+0LHRj9C30LDRgtC10LvRjNC90YvQvFwiLFxyXG4gICAgcmVtb3RlOiBcItCf0L7Qu9C1INGP0LLQu9GP0LXRgtGB0Y8g0L7QsdGP0LfQsNGC0LXQu9GM0L3Ri9C8XCIsXHJcbiAgICBlbWFpbDogXCLQktCy0LXQtNC40YLQtSDQutC+0YDRgNC10LrRgtC90YvQuSDRjdC70LXQutGC0YDQvtC90L3Ri9C5INCw0LTRgNC10YFcIixcclxuICB9KTtcclxuICAkLnZhbGlkYXRvci5hZGRNZXRob2QoXCJFTUFJTFwiLCBmdW5jdGlvbih2YWx1ZSwgZWxlbWVudCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25hbChlbGVtZW50KSB8fCAvXlthLXpBLVowLTkuXy1dK0BbYS16QS1aMC05LV0rXFwuW2EtekEtWi5dezIsNX0kL2kudGVzdCh2YWx1ZSk7XHJcbiAgfSwgXCLQktCy0LXQtNC40YLQtSDQutC+0YDRgNC10LrRgtC90YvQuSDRjdC70LXQutGC0YDQvtC90L3Ri9C5INCw0LTRgNC10YFcIik7XHJcbiAgZnVuY3Rpb24gdmFsaWRhdG9yRm9ybShlbGVtKSB7XHJcbiAgICAkKGVsZW0pLnZhbGlkYXRlKHtcclxuICAgICAgcnVsZXM6IHtcclxuICAgICAgICBwc3dvcmQ6IHtcclxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgbWlubGVuZ3RoOiA2LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW1haWxfbjpcInJlcXVpcmVkIEVNQUlMXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIG1lc3NhZ2VzOiB7XHJcbiAgICAgICAgcHN3b3JkOiB7XHJcbiAgICAgICAgICBtaW5sZW5ndGg6ICfQnNC40L3QuNC80LDQu9GM0L3QsNGPINC00LvQuNC90LAg0L/QsNGA0L7Qu9GPIDYg0YHQuNC80LLQvtC70L7QsidcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9O1xyXG4gIGZ1bmN0aW9uIGFkZEhvdmVyKGVsZW0pIHsgXHJcbiAgICAkKGVsZW0pLmFkZENsYXNzKCdpbi1ob3ZlcicpOyBcclxuICB9O1xyXG4gIGZ1bmN0aW9uIHJlbW92ZUhvdmVyKGVsZW0pIHsgXHJcbiAgICAkKGVsZW0pLnJlbW92ZUNsYXNzKCdpbi1ob3ZlcicpOyBcclxuICB9O1xyXG4gIGZ1bmN0aW9uIGdvVG9DdXJyZW5jeShlbGVtKSB7XHJcbiAgICBsZXQgbnVtYmVyVG9Gb3JtYXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW0pO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJUb0Zvcm1hdC5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgIGxldCB0b051bWIgPSArbnVtYmVyVG9Gb3JtYXRbaV0uaW5uZXJIVE1MO1xyXG4gICAgICAgbGV0IGZvcm1hdE51bSA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCgncnUtUlUnLCB7IHN0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogJ1JVQicsIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMCB9KS5mb3JtYXQodG9OdW1iKTtcclxuICAgICAgIG51bWJlclRvRm9ybWF0W2ldLmlubmVySFRNTCA9IGZvcm1hdE51bTtcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIGZ1bmN0aW9uIGNoZWNrQm94RW5naW5lKGVsZW0pIHtcclxuICAgIGxldCBjb3VudCA9IDA7XHJcbiAgICAkKGVsZW0pLmNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICgkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSkge1xyXG4gICAgICAgIGNvdW50Kys7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY291bnQtLTtcclxuICAgICAgfVxyXG4gICAgICBjaGVjaEJ0bih0aGlzLCBjb3VudCk7XHJcbiAgICAgICQodGhpcykucGFyZW50c1VudGlsKCcuY29udGVudC1maWx0ZXInKS5uZXh0KCcuYnRuLXdyYXBwZXInKS5jaGlsZHJlbignLnN0YXRlLXNlbGVjdCcpLmNoaWxkcmVuKCcubnVtYi1zZWxlY3QnKS5jaGlsZHJlbignc3BhbicpLmh0bWwoY291bnQpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICBcclxuICBmdW5jdGlvbiBjaGVjaEJ0bihlbGVtLCBhKSB7XHJcbiAgICBpZiAoYSA+IDApIHtcclxuICAgICAgJChlbGVtKS5wYXJlbnRzVW50aWwoJy5jb250ZW50LWZpbHRlcicpLm5leHQoJy5idG4td3JhcHBlcicpLmNoaWxkcmVuKCcuZmlsdGVyLWJ0bicpLnJlbW92ZUNsYXNzKCduby1hY3RpdmUnKTtcclxuICAgICAgJChlbGVtKS5wYXJlbnQoJy5maWx0ZXItaXRlbXMnKS5wYXJlbnRzVW50aWwoJy5maWx0ZXItaXRlbXMnKS5wcmV2KCkuYWRkQ2xhc3MoJ3NlbGVjdCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJChlbGVtKS5wYXJlbnRzVW50aWwoJy5jb250ZW50LWZpbHRlcicpLm5leHQoJy5idG4td3JhcHBlcicpLmNoaWxkcmVuKCcuZmlsdGVyLWJ0bicpLmFkZENsYXNzKCduby1hY3RpdmUnKTtcclxuICAgICAgJChlbGVtKS5wYXJlbnQoJy5maWx0ZXItaXRlbXMnKS5wYXJlbnRzVW50aWwoJy5maWx0ZXItaXRlbXMnKS5wcmV2KCkucmVtb3ZlQ2xhc3MoJ3NlbGVjdCcpO1xyXG4gICAgfVxyXG4gIH1cclxuICBmdW5jdGlvbiByZXNldFNlbGVjdChlbGVtLCBib3gpIHtcclxuICAgICQoZWxlbSkuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAkKGJveCkucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcclxuICAgICAgJChlbGVtKS5uZXh0KCcubnVtYi1zZWxlY3QnKS5jaGlsZHJlbignc3BhbicpLmh0bWwoMCk7XHJcbiAgICAgIGNvdW50ID0gMDtcclxuICAgICAgY2hlY2hCdG4oYm94KTtcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgZnVuY3Rpb24gaW5pdFJhbmdlU2xpZGVyKCkgeyBcclxuICAgIHZhciAkcmFuZ2UgPSAkKFwiLmpzLXJhbmdlLXNsaWRlclwiKSxcclxuICAgICRpbnB1dEZyb20gPSAkKFwiLmpzLWlucHV0LWZyb21cIiksXHJcbiAgICAkaW5wdXRUbyA9ICQoXCIuanMtaW5wdXQtdG9cIiksXHJcbiAgICBpbnN0YW5jZSxcclxuICAgIG1pbiA9IDAsXHJcbiAgICBtYXggPSAxMDAwMDAsXHJcbiAgICBmcm9tID0gMCxcclxuICAgIHRvID0gMDtcclxuICAgICRyYW5nZS5pb25SYW5nZVNsaWRlcih7XHJcbiAgICBcdCAgc2tpbjogXCJyb3VuZFwiLFxyXG4gICAgICAgIHR5cGU6IFwiZG91YmxlXCIsXHJcbiAgICAgICAgbWluOiBtaW4sXHJcbiAgICAgICAgbWF4OiBtYXgsXHJcbiAgICAgICAgZnJvbTogMCxcclxuICAgICAgICB0bzogMTAwMDAwLFxyXG4gICAgICAgIG9uU3RhcnQ6IHVwZGF0ZUlucHV0cyxcclxuICAgICAgICBvbkNoYW5nZTogdXBkYXRlSW5wdXRzXHJcbiAgICB9KTtcclxuICAgIGluc3RhbmNlID0gJHJhbmdlLmRhdGEoXCJpb25SYW5nZVNsaWRlclwiKTtcclxuICAgIGZ1bmN0aW9uIHVwZGF0ZUlucHV0cyAoZGF0YSkge1xyXG4gICAgXHRmcm9tID0gZGF0YS5mcm9tO1xyXG4gICAgICAgIHRvID0gZGF0YS50bztcclxuICAgICAgICBcclxuICAgICAgICAkaW5wdXRGcm9tLnByb3AoXCJ2YWx1ZVwiLCBmcm9tKTtcclxuICAgICAgICAkaW5wdXRUby5wcm9wKFwidmFsdWVcIiwgdG8pO1x0XHJcbiAgICB9XHJcbiAgICAkaW5wdXRGcm9tLm9uKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB2YWwgPSAkKHRoaXMpLnByb3AoXCJ2YWx1ZVwiKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyB2YWxpZGF0ZVxyXG4gICAgICAgIGlmICh2YWwgPCBtaW4pIHtcclxuICAgICAgICAgICAgdmFsID0gbWluO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmFsID4gdG8pIHtcclxuICAgICAgICAgICAgdmFsID0gdG87XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGluc3RhbmNlLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIGZyb206IHZhbFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgICRpbnB1dFRvLm9uKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB2YWwgPSAkKHRoaXMpLnByb3AoXCJ2YWx1ZVwiKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyB2YWxpZGF0ZVxyXG4gICAgICAgIGlmICh2YWwgPCBmcm9tKSB7XHJcbiAgICAgICAgICAgIHZhbCA9IGZyb207XHJcbiAgICAgICAgfSBlbHNlIGlmICh2YWwgPiBtYXgpIHtcclxuICAgICAgICAgICAgdmFsID0gbWF4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpbnN0YW5jZS51cGRhdGUoe1xyXG4gICAgICAgICAgICB0bzogdmFsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIChmdW5jdGlvbigkKXtcclxuICAgICAgICAkKHdpbmRvdykub24oXCJsb2FkXCIsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICQoXCIuZGVzY2t0b3AtZmlsdGVyLWNvbnRhaW5lciAuY29udGVudC1maWx0ZXIgLmZpbHRlci1pdGVtXCIpLm1DdXN0b21TY3JvbGxiYXIoe1xyXG4gICAgICAgICAgICAgdGhlbWU6XCJteS10aGVtZVwiXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgICQoXCIubW9iaWxlLWZpbHRlci1jb250YWluZXIgLmNvbnRlbnQtZmlsdGVyIC5tb2ItY2hlY2staXRlbVwiKS5tQ3VzdG9tU2Nyb2xsYmFyKHtcclxuICAgICAgICAgICAgIHRoZW1lOlwibXktdGhlbWVcIlxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICAkKFwiLmFsbC1sYW5nLWl0ZW1cIikubUN1c3RvbVNjcm9sbGJhcih7XHJcbiAgICAgICAgICAgICB0aGVtZTpcIm15LXRoZW1lXCJcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcbiAgfSkoalF1ZXJ5KTtcclxuICBmdW5jdGlvbiBjb21lKGVsZW0pIHtcclxuICAgIHZhciBkb2NWaWV3VG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpLFxyXG4gICAgICBkb2NWaWV3Qm90dG9tID0gZG9jVmlld1RvcCArICQod2luZG93KS5oZWlnaHQoKSxcclxuICAgICAgZWxlbVRvcCA9ICQoZWxlbSkub2Zmc2V0KCkudG9wLFxyXG4gICAgICBlbGVtQm90dG9tID0gZWxlbVRvcCArICQoZWxlbSkuaGVpZ2h0KCk7XHJcblxyXG4gICAgcmV0dXJuICgoZWxlbUJvdHRvbSA8PSBkb2NWaWV3Qm90dG9tKSAmJiAoZWxlbVRvcCA+PSBkb2NWaWV3VG9wKSk7XHJcbiAgfVxyXG4gICAkKCcuZmVhdHVyZXNfaXRlbXMgLnNlYXJjaCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA+PSA5MDApIHtcclxuICAgICAgJCgnaGVhZGVyIC5zZWFyY2gtaGVhZGVyLWxpbmUnKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICQodGhpcykucGFyZW50KCkudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAkKCdib2R5JykudG9nZ2xlQ2xhc3MoJ21vZGFsJyk7XHJcbiAgICAgIGlmICgkKCdib2R5PmRpdicpLmhhc0NsYXNzKCdvdmVybGF5JykpIHtcclxuICAgICAgICAkKCcub3ZlcmxheScpLnJlbW92ZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoJzxkaXYgY2xhc3M9XCJvdmVybGF5XCI+PC9kaXY+JykucHJlcGVuZFRvKCdib2R5Jyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQoJy5tZW51X21vYmlsZScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdtb2RhbCcpO1xyXG4gICAgICAkKCcuc2VhcmNoLXdyYXBwZXIgLmZvcm0gPiBpbnB1dCcpLmZvY3VzKCk7XHJcbiAgICAgfTtcclxuICAgICByZXR1cm4gZmFsc2VcclxuICAgfSk7XHJcbiAgJCgnLnNlYXJjaC1oZWFkZXItbGluZSBzdmcuY2xvc2UnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCdoZWFkZXIgLnNlYXJjaC1oZWFkZXItbGluZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICQoJy5mZWF0dXJlc19pdGVtcycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbW9kYWwnKTtcclxuICAgICQoJy5vdmVybGF5JykucmVtb3ZlKCk7XHJcbiAgfSk7XHJcbiAgJCgnLmJ1cmdlci1tZW51JykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLm1lbnVfbW9iaWxlJykuYWRkQ2xhc3MoJ2FjdGl2ZScpOyAgXHJcbiAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ21vZGFsJyk7XHJcbiAgfSk7XHJcbiAgJCgnLm1lbnVfbW9iaWxlIC5tb2JpbGUtaGVhZGVyLWNvbnRhaW5lciAuY2xvc2UnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcubWVudV9tb2JpbGUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ21vZGFsJyk7XHJcbiAgfSk7XHJcbiAgJCgnLm5hdl93cmFwcGVyIC5tZW51IC5tZW51X2l0ZW1zJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLm5hdl93cmFwcGVyIC5tZW51IC5tZW51X2l0ZW1zJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgfSk7XHJcbiAgJCgnLm1vYmlsZS1tZW51LXdyYXBwZXIgLm1lbnUgLm1lbnVfaXRlbXMnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcubW9iaWxlLW1lbnUtd3JhcHBlciAubWVudSAubWVudV9pdGVtcycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gIH0pO1xyXG4gICQoJy5tb2Jfc3ViX21lbnVfaXRlbXMnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoJCgnLm1vYl9zdWJfbWVudV9pdGVtcycpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgICAkKCcubW9iX3N1Yl9tZW51X2l0ZW1zJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgIH0gZWxzZTtcclxuICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSkge1xyXG4gICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gIH0pO1xyXG4gICQoJy5wcm9tb19saW5lIHN2ZycpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICQodGhpcykucGFyZW50KCkuY3NzKCdoZWlnaHQnLCAnMCcpO1xyXG4gICAgJCh0aGlzKS5wYXJlbnQoKS5jc3MoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7XHJcbiAgfSk7XHJcbiAgYWRkUmVtb3ZlQ2xhc3MoJy5pbmZvLWZyYW1lIC5pbmZvLWNvbnRlbnQtd3JhcHBlcj4udGl0bGUnLCdhY2NvcmRpb24tYnRuJyk7XHJcbiAgYWRkUmVtb3ZlQ2xhc3MoJ3NlY3Rpb24uaW5mbyAuaW5mby1tZW51LXdyYXBwZXInLCAnYWNjb3JkaW9uJyk7XHJcbiAgYWRkUmVtb3ZlQ2xhc3NfNzY3KCcuZ2FsbC13cmFwcC1tYWluJywgJ2xvYWQnKTtcclxuICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcclxuICAgIGFkZFJlbW92ZUNsYXNzKCcuaW5mby1mcmFtZSAuaW5mby1jb250ZW50LXdyYXBwZXI+LnRpdGxlJywnYWNjb3JkaW9uLWJ0bicpO1xyXG4gICAgYWRkUmVtb3ZlQ2xhc3MoJ3NlY3Rpb24uaW5mbyAuY29udGFpbmVyIC5pbmZvLWZyYW1lIC5pbmZvLW1lbnUtd3JhcHBlcicsICdhY2NvcmRpb24nKTtcclxuICAgIG1lbnVBY2NvcmRpb25Nb3ZlcigpO1xyXG4gICAgYWRkUmVtb3ZlQ2xhc3NfNzY3KCcuZ2FsbC13cmFwcC1tYWluJywgJ2xvYWQnKTtcclxuICB9KTtcclxuICBtZW51QWNjb3JkaW9uTW92ZXIoKTtcclxuICBhY2NFbmdpbmUoJy5hY2Mtb3BlbicpO1xyXG4gIGZ1bmN0aW9uIHNsaWNlU2VudGVuY2UocSwgc2VudGVuY2UpIHtcclxuICAgIGxldCBzaXplID0gcSxcclxuICAgICAgbmV3c0NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbnRlbmNlKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3c0NvbnRlbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaWYgKG5ld3NDb250ZW50W2ldLmlubmVySFRNTC5sZW5ndGggPiBzaXplKSB7XHJcbiAgICAgICAgIFx0bmV3c0NvbnRlbnRbaV0uaW5uZXJIVE1MID0gbmV3c0NvbnRlbnRbaV0uaW5uZXJIVE1MLnNsaWNlKDAsIHNpemUpICsgJyAuLi4nO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuICB9OyAgICBcclxuICAgIGlmICgkKHdpbmRvdykud2lkdGgoKSA8PSAzNTcpIHtcclxuICAgICAgc2xpY2VTZW50ZW5jZSgzNCwgJy5kaXNjcnB0aW9uLWdvb2RzLXMgPiBwJyk7XHJcbiAgICAgIHNsaWNlU2VudGVuY2UoMzMsICcuZGlzY3JwdGlvbi1nb29kcyA+IHAnKTsgXHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICgkKHdpbmRvdykud2lkdGgoKSA8PSA0ODAgJiYgJCh3aW5kb3cpLndpZHRoKCkgPj0gMzU3KSB7XHJcbiAgICAgICAgc2xpY2VTZW50ZW5jZSgzOCwgJy5kaXNjcnB0aW9uLWdvb2RzLXMgPiBwJyk7XHJcbiAgICAgICAgc2xpY2VTZW50ZW5jZSgzMywgJy5kaXNjcnB0aW9uLWdvb2RzID4gcCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgIHNsaWNlU2VudGVuY2UoMjcsICcuZGlzY3JwdGlvbi1nb29kcy1zID4gcCcpO1xyXG4gICAgICAgc2xpY2VTZW50ZW5jZSgzMywgJy5kaXNjcnB0aW9uLWdvb2RzID4gcCcpOyBcclxuICAgIH07XHJcbiAgXHJcbiAgdmFsaWRhdG9yRm9ybShcIiNzaWduLWluXCIpO1xyXG4gIHZhbGlkYXRvckZvcm0oXCIjcmVzZXQtcGFzc1wiKTtcclxuICAkKCcuY2xvc2UtcG9wdXAnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBjbG9zZVBvcFVwKCcucG9wdXAuYWN0aXZlJyk7XHJcbiAgfSk7XHJcbiAgJCgnLmZlYXR1cmVzX2l0ZW1zIC5hdXRvcml6YXRpb24nKS5jbGljayhmdW5jdGlvbiAoKXtcclxuICAgIG9wZW5Qb3BVcCgnI3BvcHVwLXNpZ24taW4nKTtcclxuICB9KTtcclxuICAkKCcjcG9wdXAtc2lnbi1pbiAubGlua193cmFwcGVyIGEnKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY2xvc2VQb3BVcCgnLnBvcHVwLmFjdGl2ZScpO1xyXG4gICAgb3BlblBvcFVwKCcjcG9wdXAtcmVzZXQtcGFzcycpO1xyXG4gIH0pO1xyXG4gICQoJy5sYW5nLXdyYXBwZXIgLnNlbGVjdC1sYW5nJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICQodGhpcykuY2hpbGRyZW4oKS5sYXN0KCkudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gIH0pXHJcbiAgJCgnLm1lbnVfbW9iaWxlIC5zZWFyY2gtbGluZScpLmNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoJCh0aGlzKS52YWwoKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2VudGVyJyk7XHJcbiAgICAgICQoJy5tZW51X21vYmlsZSAuc2VhcmNoJykuYWRkQ2xhc3MoJ2VudGVyJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoJCgnLm1lbnVfbW9iaWxlIC5zZWFyY2gnKS5oYXNDbGFzcygnZW50ZXInKSkge1xyXG4gICAgICAgICQoJy5tZW51X21vYmlsZSAuc2VhcmNoJykucmVtb3ZlQ2xhc3MoJ2VudGVyJyk7XHJcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZW50ZXInKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG4gICQoXCIuc3ViX21lbnVfaXRlbXMgPiBhXCIpLmhvdmVyKGZ1bmN0aW9uICgpIHtcclxuICAgIGFkZEhvdmVyKHRoaXMucGFyZW50RWxlbWVudCk7XHJcbiAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgcmVtb3ZlSG92ZXIodGhpcy5wYXJlbnRFbGVtZW50KTtcclxuICB9KTtcclxuICAkKFwiLm1lbnVfaXRlbXMgPiBhXCIpLmhvdmVyKGZ1bmN0aW9uICgpIHtcclxuICAgIGFkZEhvdmVyKHRoaXMpO1xyXG4gIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgIHJlbW92ZUhvdmVyKHRoaXMpO1xyXG4gICB9KTtcclxuICAkKFwiLmZlYXR1cmVzX2l0ZW1zID4gYVwiKS5ob3ZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICBhZGRIb3Zlcih0aGlzLnBhcmVudEVsZW1lbnQpO1xyXG4gIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgIHJlbW92ZUhvdmVyKHRoaXMucGFyZW50RWxlbWVudCk7XHJcbiAgfSk7XHJcbiAgbGV0IGhlaWdodEhlYWRlciA9ICQoJ2hlYWRlcicpLmhlaWdodCgpO1xyXG4gICQod2luZG93KS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoJCgnaGVhZGVyJykuaGVpZ2h0KCkgPCBoZWlnaHRIZWFkZXIpIHtcclxuICAgICAgJCgnbWFpbicpLmNzcygncGFkZGluZycsICQoJ2hlYWRlcicpLmhlaWdodCgpICsgJ3B4Jyk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgZ29Ub0N1cnJlbmN5KCcucHJpY2UnKTtcclxuICBnb1RvQ3VycmVuY3koJy5wcmljZV9uZXcnKTtcclxuICBnb1RvQ3VycmVuY3koJy5wcmljZV9vbGQnKTtcclxuICAkKCcuZGVzY2t0b3AtZmlsdGVyLWNvbnRhaW5lciAuZmlsdGVyLWhlYWRlcicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgICAgJCgnLmRlc2NrdG9wLWZpbHRlci1jb250YWluZXIgLmZpbHRlci1oZWFkZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICQoJy5kZXNja3RvcC1maWx0ZXItY29udGFpbmVyIC5maWx0ZXItaGVhZGVyJykubmV4dCgpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgJCgnLmxvY2stcG9pbnRlcicpLnJlbW92ZSgpO1xyXG4gICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnbm8tYWN0aXZlJykpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJCh0aGlzKS5uZXh0KCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQoXCI8ZGl2IGNsYXNzPSdsb2NrLXBvaW50ZXInPjwvZGl2PlwiKS5hcHBlbmRUbyhcImJvZHlcIik7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQoJy5sb2NrLXBvaW50ZXInKS5yZW1vdmUoKTtcclxuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICQodGhpcykubmV4dCgpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIH1cclxuICB9KTtcclxuICAkKGRvY3VtZW50KS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX3dyYXBwZXInKSkge1xyXG4gICAgICBjbG9zZVBvcFVwKCcucG9wdXAuYWN0aXZlJyk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgJChkb2N1bWVudCkuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2xvY2stcG9pbnRlcicpKSB7XHJcbiAgICAgICQoJy5maWx0ZXItaGVhZGVyJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAkKCcuZmlsdGVyLWhlYWRlcicpLm5leHQoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICQoJy5sb2NrLXBvaW50ZXInKS5yZW1vdmUoKTtcclxuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdvdmVybGF5JykpIHtcclxuICAgICAgJCgnaGVhZGVyIC5zZWFyY2gtaGVhZGVyLWxpbmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICQoJy5mZWF0dXJlc19pdGVtcycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdtb2RhbCcpO1xyXG4gICAgICAkKCcub3ZlcmxheScpLnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gICQoJy5tb3JlLWxlc3MtZmlsdGVyJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAkKHRoaXMpLmNoaWxkcmVuKCkudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICQodGhpcykucGFyZW50KCkuYWRkQ2xhc3MoJ29wZW4nKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQodGhpcykucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcclxuICAgIH1cclxuICB9KTtcclxuICBpbml0UmFuZ2VTbGlkZXIoKTtcclxuICBjaGVja0JveEVuZ2luZSgnLmJveC1jaGVjay5zaXplJyk7XHJcbiAgY2hlY2tCb3hFbmdpbmUoJy5ib3gtY2hlY2suY29sb3InKTtcclxuICBjaGVja0JveEVuZ2luZSgnLmJveC1jaGVjay5jYXRfZicpO1xyXG4gIGNoZWNrQm94RW5naW5lKCcuYm94LWNoZWNrLmJyYW5kJyk7XHJcbiAgY2hlY2tCb3hFbmdpbmUoJy5ib3gtY2hlY2subWF0ZXJpYWwnKTtcclxuICBjaGVja0JveEVuZ2luZSgnLmJveC1jaGVjay5oJyk7XHJcbiAgcmVzZXRTZWxlY3QoJy5jb250ZW50LWZpbHRlci5zaXplIC5yZXNlci1zZWxlY3QnLCAnLmJveC1jaGVjay5zaXplJyk7XHJcbiAgcmVzZXRTZWxlY3QoJy5jb250ZW50LWZpbHRlci5jb2xvciAucmVzZXItc2VsZWN0JywgJy5ib3gtY2hlY2suY29sb3InKTtcclxuICByZXNldFNlbGVjdCgnLmNvbnRlbnQtZmlsdGVyLmNhdF9mIC5yZXNlci1zZWxlY3QnLCAnLmJveC1jaGVjay5jYXRfZicpO1xyXG4gIHJlc2V0U2VsZWN0KCcuY29udGVudC1maWx0ZXIuYnJhbmQgLnJlc2VyLXNlbGVjdCcsICcuYm94LWNoZWNrLmJyYW5kJyk7XHJcbiAgcmVzZXRTZWxlY3QoJy5jb250ZW50LWZpbHRlci5tYXRlcmlhbCAucmVzZXItc2VsZWN0JywgJy5ib3gtY2hlY2subWF0ZXJpYWwnKTtcclxuICByZXNldFNlbGVjdCgnLmNvbnRlbnQtZmlsdGVyLmggLnJlc2VyLXNlbGVjdCcsICcuYm94LWNoZWNrLmgnKTtcclxuICAkKCcubW9iaWxlLWZpbHRlci1jb250YWluZXIgLmZpbHRlci1oZWFkZXInKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBvcGVuUG9wVXAoJCh0aGlzKS5uZXh0KCkpO1xyXG4gIH0pO1xyXG4gICQoJy5tb2RhbC1maXRlciAudGl0bGUtZmlsdGVyIHN2ZycpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIGNsb3NlUG9wVXAoJy5tb2RhbC1maXRlcicpO1xyXG4gIH0pO1xyXG4gICQoJy5tb2ItZmlsdGVyLWhlYWRlcicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgJCh0aGlzKS5wYXJlbnQoKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgfSk7XHJcbiAgXHJcbiAgbGV0IGNvdW50ID0gMDtcclxuICAgJCgnLm1vYi1jaGVjay1pdGVtcyAuYm94LWNoZWNrJykuY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKCQodGhpcykucHJvcCgnY2hlY2tlZCcpKSB7XHJcbiAgICAgICAgY291bnQrKztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb3VudC0tO1xyXG4gICAgICB9XHJcbiAgICAgJCgnLm1vZGFsLXJlc2V0IHNwYW4nKS5odG1sKCcoJyArIGNvdW50ICsgJyknKVxyXG4gICAgIGlmIChjb3VudCA+IDApIHtcclxuICAgICAgICQoJy5tb2RhbC1yZXNldCcpLnJlbW92ZUNsYXNzKCduby1hY3RpdmUnKTtcclxuICAgICAgICQoJy5tb2RhbC1zdWJtaXQnKS5yZW1vdmVDbGFzcygnbm8tYWN0aXZlJyk7XHJcbiAgICAgfSBlbHNlIHtcclxuICAgICAgICQoJy5tb2RhbC1yZXNldCcpLmFkZENsYXNzKCduby1hY3RpdmUnKTtcclxuICAgICAgICQoJy5tb2RhbC1zdWJtaXQnKS5hZGRDbGFzcygnbm8tYWN0aXZlJyk7XHJcbiAgICAgfVxyXG4gICB9KTtcclxuICAkKCcubW9iLWNoZWNrLWl0ZW1zIC5ib3gtY2hlY2s6bm90KC5jb2xvciknKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykpIHtcclxuXHJcbiAgICAgICQodGhpcykucGFyZW50cygnLm1vYi1maWx0ZXItaXRlbXMnKS5jaGlsZHJlbignLm1vYi1maWx0ZXItaGVhZGVyJykuYXBwZW5kKCc8c3BhbiBkYXRhLW5hbWU9JysgJCh0aGlzKS5uZXh0KCkuaHRtbCgpKyc+KCcgKyAkKHRoaXMpLm5leHQoKS5odG1sKCkgKyAnKTwvc3Bhbj4nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgJCh0aGlzKS5wYXJlbnRzKCcubW9iLWZpbHRlci1pdGVtcycpLmNoaWxkcmVuKCcubW9iLWZpbHRlci1oZWFkZXInKS5maW5kKCdzcGFuW2RhdGEtbmFtZT0nKyQodGhpcykubmV4dCgpLmh0bWwoKSsnXScpLnJlbW92ZSgpO1xyXG4gICAgICB9XHJcbiAgfSk7XHJcbiAgJCgnLm1vZGFsLXJlc2V0JykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLm1vYi1jaGVjay1pdGVtcyAuYm94LWNoZWNrJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcclxuICAgICQoJy5tb2ItZmlsdGVyLWhlYWRlcicpLmZpbmQoJ3NwYW4nKS5yZW1vdmUoKTtcclxuICAgIGNvdW50ID0gMDtcclxuICAgICQoJy5tb2RhbC1yZXNldCBzcGFuJykuaHRtbCgnKCcgKyBjb3VudCArICcpJyk7XHJcbiAgICAkKCcubW9kYWwtcmVzZXQnKS5hZGRDbGFzcygnbm8tYWN0aXZlJyk7XHJcbiAgICAkKCcubW9kYWwtc3VibWl0JykuYWRkQ2xhc3MoJ25vLWFjdGl2ZScpO1xyXG5cclxuICB9KTtcclxuICBpZiAoJCgnI2J0bi13YXRjaCcpLmxlbmd0aCA+IDApIHtcclxuICAgICAkKGRvY3VtZW50KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAoY29tZSgnI2J0bi13YXRjaCcpKSB7XHJcbiAgICAgICAgICQoJy5wcmV2aWV3LWhlYWRlci1nb29kcycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgJCgnLnByZXZpZXctaGVhZGVyLWdvb2RzJykuYWRkQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICB9XHJcbiAgICAgfSk7XHJcbiAgfTtcclxuICBcclxuICBsZXQgbW9iR2FsbFNsaWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsLXdyYXBwLW1haW4nKSxcclxuICAgIGNsb3NlR2FsbGVyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsLWNsb3NlLWJ0bicpO1xyXG4gIGlmIChtb2JHYWxsU2xpZGVyKSB7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2dhbGwtd3JhcHAtbWFpbicpKSB7XHJcbiAgICAgICAgICBtb2JHYWxsU2xpZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcclxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwnKVxyXG4gICAgICAgfSBlbHNlIHsgcmV0dXJuIH07XHJcbiAgICB9KTtcclxuICAgIGNsb3NlR2FsbGVyeS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgbW9iR2FsbFNsaWRlci5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWwnKTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2xpZGUtMScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBtb2JHYWxsU2xpZGVyLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcclxuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdtb2RhbCcpO1xyXG4gICAgICBzd2lwZXJHb29kcy5zbGlkZVRvKDEsIDApO1xyXG4gICAgICB9KTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzbGlkZS0yJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIG1vYkdhbGxTbGlkZXIuY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vZGFsJyk7XHJcbiAgICAgIHN3aXBlckdvb2RzLnNsaWRlVG8oMiwgMCk7XHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzbGlkZS0zJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIG1vYkdhbGxTbGlkZXIuY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vZGFsJyk7XHJcbiAgICAgIHN3aXBlckdvb2RzLnNsaWRlVG8oMywgMCk7XHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzbGlkZS00JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIG1vYkdhbGxTbGlkZXIuY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vZGFsJyk7XHJcbiAgICAgIHN3aXBlckdvb2RzLnNsaWRlVG8oNCwgMCk7XHJcbiAgICB9KTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzbGlkZS01JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIG1vYkdhbGxTbGlkZXIuY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ21vZGFsJyk7XHJcbiAgICAgIHN3aXBlckdvb2RzLnNsaWRlVG8oNSwgMCk7XHJcbiAgICB9KTsgIFxyXG4gIH0gZWxzZSB7IHJldHVybiB9O1xyXG59O1xyXG5cclxuXHJcbiAiXSwiZmlsZSI6ImluZGV4Lm1pbi5qcyJ9
